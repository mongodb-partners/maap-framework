<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-quick-starts/quickstarts/langchain" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Langchain | MAAP</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://maap-framework.github.io/maap-framework/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://maap-framework.github.io/maap-framework/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://maap-framework.github.io/maap-framework/docs/quick-starts/quickstarts/langchain"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Langchain | MAAP"><meta data-rh="true" name="description" content="Introduction to MongoDB Atlas with LangChain"><meta data-rh="true" property="og:description" content="Introduction to MongoDB Atlas with LangChain"><link data-rh="true" rel="icon" href="/maap-framework/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://maap-framework.github.io/maap-framework/docs/quick-starts/quickstarts/langchain"><link data-rh="true" rel="alternate" href="https://maap-framework.github.io/maap-framework/docs/quick-starts/quickstarts/langchain" hreflang="en"><link data-rh="true" rel="alternate" href="https://maap-framework.github.io/maap-framework/docs/quick-starts/quickstarts/langchain" hreflang="x-default"><link rel="stylesheet" href="/maap-framework/assets/css/styles.672a8b88.css">
<script src="/maap-framework/assets/js/runtime~main.972c9c37.js" defer="defer"></script>
<script src="/maap-framework/assets/js/main.3c710068.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/maap-framework/"><div class="navbar__logo"><img src="/maap-framework/img/logo.svg" alt="MAAP Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/maap-framework/img/logo.svg" alt="MAAP Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">MAAP</b></a><a class="navbar__item navbar__link" href="/maap-framework/docs/framework/intro">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/maap-framework/docs/category/quick-starts">Quickstart</a><a class="navbar__item navbar__link" href="/maap-framework/docs/category/demo">Demo</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/mongodb-partners/maap-framework/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/maap-framework/docs/category/quick-starts">Quick Starts</a><button aria-label="Collapse sidebar category &#x27;Quick Starts&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/maap-framework/docs/category/confluent">Confluent</a><button aria-label="Expand sidebar category &#x27;Confluent&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/maap-framework/docs/quick-starts/quickstarts/anthropic">Anthropic</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/maap-framework/docs/quick-starts/quickstarts/arcee">Arcee</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/maap-framework/docs/quick-starts/quickstarts/cohere">Cohere</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/maap-framework/docs/quick-starts/quickstarts/firework">Fireworks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/maap-framework/docs/quick-starts/quickstarts/ibm">IBM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/maap-framework/docs/quick-starts/quickstarts/langchain">Langchain</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/maap-framework/docs/quick-starts/quickstarts/meta">Meta</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/maap-framework/docs/quick-starts/quickstarts/temporal">Temporal</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/maap-framework/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/maap-framework/docs/category/quick-starts"><span itemprop="name">Quick Starts</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Langchain</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Langchain</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction-to-mongodb-atlas-with-langchain">Introduction to MongoDB Atlas with LangChain<a class="hash-link" aria-label="Direct link to Introduction to MongoDB Atlas with LangChain" title="Direct link to Introduction to MongoDB Atlas with LangChain" href="/maap-framework/docs/quick-starts/quickstarts/langchain#introduction-to-mongodb-atlas-with-langchain">​</a></h2>
<p>MongoDB Atlas provides a powerful foundation for building AI-powered applications when combined with LangChain. This integration enables developers to create sophisticated retrieval-augmented generation (RAG) systems, conversational AI applications, and knowledge-based agents with persistent memory.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="langchain--mongodb-atlas">LangChain + MongoDB Atlas<a class="hash-link" aria-label="Direct link to LangChain + MongoDB Atlas" title="Direct link to LangChain + MongoDB Atlas" href="/maap-framework/docs/quick-starts/quickstarts/langchain#langchain--mongodb-atlas">​</a></h3>
<p>LangChain is an open-source framework designed to simplify the development of applications using large language models (LLMs). When integrated with MongoDB Atlas, it offers:</p>
<ul>
<li><strong>Vector Search Capabilities</strong>: Store embeddings in MongoDB Atlas vector collections for semantic search</li>
<li><strong>Conversational Memory</strong>: Persist chat history and context across sessions</li>
<li><strong>Document Management</strong>: Store, chunk, and retrieve documents for RAG applications</li>
<li><strong>Structured Data Operations</strong>: Leverage MongoDB&#x27;s document model for complex data storage and retrieval</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="building-advanced-ai-applications">Building Advanced AI Applications<a class="hash-link" aria-label="Direct link to Building Advanced AI Applications" title="Direct link to Building Advanced AI Applications" href="/maap-framework/docs/quick-starts/quickstarts/langchain#building-advanced-ai-applications">​</a></h3>
<p>With this integration, you can build various applications:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="with-langchain">With LangChain<a class="hash-link" aria-label="Direct link to With LangChain" title="Direct link to With LangChain" href="/maap-framework/docs/quick-starts/quickstarts/langchain#with-langchain">​</a></h4>
<ul>
<li><strong>RAG Systems</strong>: Create intelligent search systems that retrieve relevant documents and generate contextual responses</li>
<li><strong>Knowledge Bases</strong>: Build Q&amp;A systems that reference your proprietary data</li>
<li><strong>Virtual Assistants</strong>: Develop domain-specific assistants with enhanced knowledge from your MongoDB data</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="with-langgraph">With LangGraph<a class="hash-link" aria-label="Direct link to With LangGraph" title="Direct link to With LangGraph" href="/maap-framework/docs/quick-starts/quickstarts/langchain#with-langgraph">​</a></h4>
<ul>
<li><strong>Multi-step Reasoning Workflows</strong>: Create complex, stateful AI agents with persistent memory</li>
<li><strong>Human-in-the-loop Systems</strong>: Build applications with structured human feedback loops</li>
<li><strong>Agentic Applications</strong>: Develop AI systems that can plan and execute multi-step tasks</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="with-langgraph-swarm">With LangGraph Swarm<a class="hash-link" aria-label="Direct link to With LangGraph Swarm" title="Direct link to With LangGraph Swarm" href="/maap-framework/docs/quick-starts/quickstarts/langchain#with-langgraph-swarm">​</a></h4>
<ul>
<li><strong>Multi-agent Systems</strong>: Create collaborative agent swarms that work together to solve complex problems</li>
<li><strong>Consensus-based Decision Making</strong>: Build systems where multiple agents debate and refine solutions</li>
<li><strong>Specialized Agent Networks</strong>: Deploy networks of agents with different expertise working in coordination</li>
</ul>
<p>All these applications benefit from MongoDB Atlas&#x27;s scalability, reliability, and comprehensive data management capabilities, creating a robust foundation for production-grade AI systems.</p>
<p><a href="https://github.com/mongodb-partners/langchain-qs" target="_blank" rel="noopener noreferrer"><img decoding="async" loading="lazy" src="https://github-readme-stats.vercel.app/api/pin/?username=mongodb-partners&amp;repo=langchain-qs" alt="ReadMe Card" class="img_ev3q"></a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="key-mongodb-langchain-integration-components">Key MongoDB-LangChain Integration Components<a class="hash-link" aria-label="Direct link to Key MongoDB-LangChain Integration Components" title="Direct link to Key MongoDB-LangChain Integration Components" href="/maap-framework/docs/quick-starts/quickstarts/langchain#key-mongodb-langchain-integration-components">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="mongodb-vector-store">MongoDB Vector Store<a class="hash-link" aria-label="Direct link to MongoDB Vector Store" title="Direct link to MongoDB Vector Store" href="/maap-framework/docs/quick-starts/quickstarts/langchain#mongodb-vector-store">​</a></h3>
<ul>
<li><strong>Vector Search</strong>: Leverage MongoDB Atlas Vector Search for semantic similarity queries</li>
<li><strong>Document Retrieval</strong>: Retrieve context-relevant documents for LLM prompting</li>
<li><strong>Hybrid Search</strong>: Combine keyword and semantic search capabilities</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="mongodb-checkpoint-saver">MongoDB Checkpoint Saver<a class="hash-link" aria-label="Direct link to MongoDB Checkpoint Saver" title="Direct link to MongoDB Checkpoint Saver" href="/maap-framework/docs/quick-starts/quickstarts/langchain#mongodb-checkpoint-saver">​</a></h3>
<ul>
<li><strong>Persistence</strong>: Store agent state and execution graphs in MongoDB</li>
<li><strong>Session Management</strong>: Maintain user context across interactions</li>
<li><strong>Workflow Recovery</strong>: Resume complex workflows from saved checkpoints</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="mongodb-based-tools">MongoDB-Based Tools<a class="hash-link" aria-label="Direct link to MongoDB-Based Tools" title="Direct link to MongoDB-Based Tools" href="/maap-framework/docs/quick-starts/quickstarts/langchain#mongodb-based-tools">​</a></h3>
<ul>
<li><strong>Data Augmentation</strong>: Enrich responses with structured MongoDB data</li>
<li><strong>Dynamic Query Generation</strong>: Generate optimized MongoDB queries based on user intent</li>
<li><strong>Result Caching</strong>: Cache frequent queries for improved performance</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="table-of-contents">Table of Contents<a class="hash-link" aria-label="Direct link to Table of Contents" title="Direct link to Table of Contents" href="/maap-framework/docs/quick-starts/quickstarts/langchain#table-of-contents">​</a></h2>
<ul>
<li><a href="/maap-framework/docs/quick-starts/quickstarts/langchain#1-overview">1. Overview</a></li>
<li><a href="/maap-framework/docs/quick-starts/quickstarts/langchain#2-system-architecture">2. System Architecture</a></li>
<li><a href="/maap-framework/docs/quick-starts/quickstarts/langchain#3-components">3. Components</a>
<ul>
<li><a href="/maap-framework/docs/quick-starts/quickstarts/langchain#31-ui-service">3.1 UI Service</a></li>
<li><a href="/maap-framework/docs/quick-starts/quickstarts/langchain#32-mongodb-integration">3.2 MongoDB Integration</a></li>
</ul>
</li>
<li><a href="/maap-framework/docs/quick-starts/quickstarts/langchain#4-installation--deployment">4. Installation &amp; Deployment</a>
<ul>
<li><a href="/maap-framework/docs/quick-starts/quickstarts/langchain#41-one-click-deployment">4.1 One-Click Deployment</a></li>
</ul>
</li>
<li><a href="/maap-framework/docs/quick-starts/quickstarts/langchain#5-configuration">5. Configuration</a>
<ul>
<li><a href="/maap-framework/docs/quick-starts/quickstarts/langchain#51-environment-variables">5.1 Environment Variables</a></li>
</ul>
</li>
<li><a href="/maap-framework/docs/quick-starts/quickstarts/langchain#6-usage">6. Usage</a>
<ul>
<li><a href="/maap-framework/docs/quick-starts/quickstarts/langchain#61-user-interface">6.1 User Interface</a></li>
<li><a href="/maap-framework/docs/quick-starts/quickstarts/langchain#62-querying-the-system">6.2 Querying the System</a></li>
</ul>
</li>
<li><a href="/maap-framework/docs/quick-starts/quickstarts/langchain#7-security-considerations">7. Security Considerations</a></li>
<li><a href="/maap-framework/docs/quick-starts/quickstarts/langchain#8-monitoring--logging">8. Monitoring &amp; Logging</a></li>
<li><a href="/maap-framework/docs/quick-starts/quickstarts/langchain#9-troubleshooting">9. Troubleshooting</a></li>
<li><a href="/maap-framework/docs/quick-starts/quickstarts/langchain#10-maintenance--operations">10. Maintenance &amp; Operations</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-overview">1. Overview<a class="hash-link" aria-label="Direct link to 1. Overview" title="Direct link to 1. Overview" href="/maap-framework/docs/quick-starts/quickstarts/langchain#1-overview">​</a></h2>
<p>This solution demonstrates how to leverage semantic search on data stored in MongoDB Atlas and create a multi-agent RAG system using LangChain and LangGraph. The integration enables retrieval-augmented generation with various LLM providers, enhanced by MongoDB&#x27;s vector capabilities for semantic search.</p>
<p>Use Case: Create an intelligent agent-based system that can search, retrieve, and generate responses using both proprietary data and web information.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-system-architecture">2. System Architecture<a class="hash-link" aria-label="Direct link to 2. System Architecture" title="Direct link to 2. System Architecture" href="/maap-framework/docs/quick-starts/quickstarts/langchain#2-system-architecture">​</a></h2>
<p><img decoding="async" loading="lazy" src="https://raw.githubusercontent.com/mongodb-partners/langchain-qs/5f93dc0ab663b36d2346441e7521452883ee1eab/app/static/agents_nodes_graph.png" alt="Architecture Diagram" class="img_ev3q"></p>
<p>The architecture consists of several integrated components:</p>
<ol>
<li><strong>UI Service</strong>: Streamlit-based web interface for user interaction (Port 8501)</li>
<li><strong>Multi-Agent Graph</strong>: LangGraph-based orchestration of specialized agents</li>
<li><strong>MongoDB Atlas</strong>: Powers vector search and checkpoint storage (Ports 27015-27017)</li>
<li><strong>LLM Integration</strong>: Connects with providers like Fireworks AI and AWS Bedrock</li>
</ol>
<p>All components work together in a graph-based workflow managed by LangGraph Swarm.</p>
<p>The provided code defines a function <code>initialize_swarm_graph</code> that sets up a multi-agent system for handling tasks like question answering. This system consists of three agents: <em>Eve, Bob, and George</em>. Each agent has specific responsibilities and tools to collaborate effectively. Here&#x27;s a detailed explanation of the code:</p>
<ol>
<li>
<p>Purpose of the Function
The <code>initialize_swarm_graph</code> function is designed to create a multi-agent workflow (referred to as a &quot;swarm&quot;) where agents work together to process user queries, retrieve information, and generate responses. The function returns a compiled workflow that can be executed to handle these tasks.</p>
</li>
<li>
<p>Agents in the Swarm
The system consists of three agents, each with distinct roles:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="eve">Eve<a class="hash-link" aria-label="Direct link to Eve" title="Direct link to Eve" href="/maap-framework/docs/quick-starts/quickstarts/langchain#eve">​</a></h4>
<p>Role: Eve is the planner and task executor.
Responsibilities:
Plan the actions required to answer the user&#x27;s query.
Delegate tasks to other agents when necessary.
Tools:
A handoff tool to call Bob for information that Eve does not have.
Behavior:
Eve does not fabricate answers and relies on tools to fetch relevant information.
Eve is the default active agent in the workflow, meaning it initiates the process.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="bob">Bob<a class="hash-link" aria-label="Direct link to Bob" title="Direct link to Bob" href="/maap-framework/docs/quick-starts/quickstarts/langchain#bob">​</a></h4>
<p><em>Role:</em> Bob is the information retriever and question refiner.
<em>Responsibilities:</em>
Search for information using web tools.
Rewrite questions to make them more specific.
Collaborate with George to generate final responses.
<em>Tools:</em>
A web search tool to find information from the internet.
A rewrite tool to refine questions.
A grader tool to work with George for generating final responses.
<em>Behavior:</em>
Bob uses the tools to find information not available in private knowledge bases.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="george">George<a class="hash-link" aria-label="Direct link to George" title="Direct link to George" href="/maap-framework/docs/quick-starts/quickstarts/langchain#george">​</a></h4>
<p><em>Role:</em> George is the final response generator.
<em>Responsibilities:</em>
Generate the final response to the user&#x27;s query.
Use private knowledge bases to provide accurate answers.
<em>Tools:</em>
A final response tool to generate responses based on private knowledge
<em>Behavior:</em>
George ensures that the final response is accurate and concise.</p>
</li>
<li>
<p>MongoDB Integration
The function connects to a MongoDB database for checkpointing purposes. This allows the system to save and retrieve intermediate states of the workflow.
Details:
The MongoDB URI is fetched from an environment variable (MONGODB_URI).
The database name is test_ckp_2, and the collection name is test_ckpt_2.
The MongoDB client is used to interact with the database.</p>
</li>
<li>
<p>Workflow Creation
The function uses the create_swarm method to combine the three agents (Eve, Bob, and George) into a single workflow.
Default Active Agent: Eve is set as the default active agent, meaning it starts the workflow and delegates tasks as needed.</p>
</li>
<li>
<p>Workflow Compilation
The workflow is compiled using a checkpointing mechanism (memory_saver), which ensures that the system can save and restore its state during execution.
The compiled workflow is stored in the variable app.</p>
</li>
<li>
<p>Return Value
The function returns the compiled workflow (app), which can be used to execute the multi-agent system. This workflow allows the agents to collaborate and handle tasks like answering user queries.</p>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="summary">Summary<a class="hash-link" aria-label="Direct link to Summary" title="Direct link to Summary" href="/maap-framework/docs/quick-starts/quickstarts/langchain#summary">​</a></h4>
<p>The <code>initialize_swarm_graph</code> function sets up a multi-agent system with three agents (Eve, Bob, and George) that work together to process user queries. Each agent has specific tools and responsibilities:</p>
<p>Eve plans and delegates tasks.
Bob retrieves information and refines questions.
George generates the final response.
The system uses MongoDB for checkpointing and compiles the agents into a workflow that can be executed. This modular and collaborative approach ensures efficient handling of complex tasks.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-components">3. Components<a class="hash-link" aria-label="Direct link to 3. Components" title="Direct link to 3. Components" href="/maap-framework/docs/quick-starts/quickstarts/langchain#3-components">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="31-ui-service">3.1 UI Service<a class="hash-link" aria-label="Direct link to 3.1 UI Service" title="Direct link to 3.1 UI Service" href="/maap-framework/docs/quick-starts/quickstarts/langchain#31-ui-service">​</a></h3>
<p>The UI Service provides a web-based interface built with Streamlit, offering:</p>
<ul>
<li>Chat interface for query input and response display</li>
<li>File upload for document processing</li>
<li>Tool selection for search capabilities</li>
<li>Model selection for different LLMs</li>
</ul>
<p>Key files:</p>
<ul>
<li><code>app/app.py</code>: Main Streamlit application</li>
<li><code>app/swarm/graph.py</code>: Agent workflow orchestration</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="32-mongodb-integration">3.2 MongoDB Integration<a class="hash-link" aria-label="Direct link to 3.2 MongoDB Integration" title="Direct link to 3.2 MongoDB Integration" href="/maap-framework/docs/quick-starts/quickstarts/langchain#32-mongodb-integration">​</a></h3>
<p>MongoDB Atlas provides several key capabilities for the system:</p>
<ul>
<li><strong>Vector Search</strong>: Powers semantic retrieval with MongoDBAtlasVectorSearch</li>
<li><strong>Checkpoint Storage</strong>: Manages agent state with MongoDBSaver</li>
<li><strong>Document Management</strong>: Stores and retrieves chunked documents</li>
</ul>
<p>Key files:</p>
<ul>
<li><code>app/swarm/utils.py</code>: MongoDB connection and vector store setup</li>
<li><code>app/swarm/tools.py</code>: Tools for search and information retrieval</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-installation--deployment">4. Installation &amp; Deployment<a class="hash-link" aria-label="Direct link to 4. Installation &amp; Deployment" title="Direct link to 4. Installation &amp; Deployment" href="/maap-framework/docs/quick-starts/quickstarts/langchain#4-installation--deployment">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites" href="/maap-framework/docs/quick-starts/quickstarts/langchain#prerequisites">​</a></h3>
<ul>
<li>AWS account with appropriate permissions</li>
<li>MongoDB Atlas account with appropriate permissions</li>
<li>Python 3.10+</li>
<li>Docker and Docker Compose installed</li>
<li>AWS CLI installed and configured</li>
<li>EC2 quota for <code>t3.xlarge</code></li>
<li>Programmatic access to your MongoDB Atlas project</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="mongodb-atlas-programmatic-access">MongoDB Atlas Programmatic Access<a class="hash-link" aria-label="Direct link to MongoDB Atlas Programmatic Access" title="Direct link to MongoDB Atlas Programmatic Access" href="/maap-framework/docs/quick-starts/quickstarts/langchain#mongodb-atlas-programmatic-access">​</a></h3>
<p>To enable programmatic access to your MongoDB Atlas project, follow these steps to create and manage API keys securely:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-create-an-api-key"><strong>1. Create an API Key</strong><a class="hash-link" aria-label="Direct link to 1-create-an-api-key" title="Direct link to 1-create-an-api-key" href="/maap-framework/docs/quick-starts/quickstarts/langchain#1-create-an-api-key">​</a></h4>
<ol>
<li>
<p><strong>Navigate to Project Access Manager:</strong></p>
<ul>
<li>In the Atlas UI, select your organization and project.</li>
<li>Go to <strong>Project Access</strong> under the <strong>Access Manager</strong> menu.</li>
</ul>
</li>
<li>
<p><strong>Create API Key:</strong></p>
<ul>
<li>Click on the <strong>Applications</strong> tab.</li>
<li>Select <strong>API Keys</strong>.</li>
<li>Click <strong>Create API Key</strong>.</li>
<li>Provide a description for the key.</li>
<li>Assign appropriate project permissions by selecting roles that align with the principle of least privilege.</li>
<li>Click <strong>Next</strong>.</li>
</ul>
</li>
<li>
<p><strong>Save API Key Credentials:</strong></p>
<ul>
<li>Copy and securely store the <strong>Public Key</strong> (username) and <strong>Private Key</strong> (password).</li>
<li><strong>Important:</strong> The private key is displayed only once; ensure it&#x27;s stored securely.</li>
</ul>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-configure-api-access-list"><strong>2. Configure API Access List</strong><a class="hash-link" aria-label="Direct link to 2-configure-api-access-list" title="Direct link to 2-configure-api-access-list" href="/maap-framework/docs/quick-starts/quickstarts/langchain#2-configure-api-access-list">​</a></h4>
<ol>
<li>
<p><strong>Add Access List Entry:</strong></p>
<ul>
<li>After creating the API key, add an IP address or CIDR block to the API access list to specify allowed sources for API requests.</li>
<li>Click <strong>Add Access List Entry</strong>.</li>
<li>Enter the IP address or click <strong>Use Current IP Address</strong> if accessing from the current host.</li>
<li>Click <strong>Save</strong>.</li>
</ul>
</li>
<li>
<p><strong>Manage Access List:</strong></p>
<ul>
<li>To modify the access list, navigate to the <strong>API Keys</strong> section.</li>
<li>Click the ellipsis (<strong>...</strong>) next to the API key and select <strong>Edit Permissions</strong>.</li>
<li>Update the access list as needed.</li>
</ul>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="3-secure-api-key-usage"><strong>3. Secure API Key Usage</strong><a class="hash-link" aria-label="Direct link to 3-secure-api-key-usage" title="Direct link to 3-secure-api-key-usage" href="/maap-framework/docs/quick-starts/quickstarts/langchain#3-secure-api-key-usage">​</a></h4>
<ul>
<li>
<p><strong>Environment Variables:</strong> Store API keys in environment variables to prevent hardcoding them in your application&#x27;s source code.</p>
</li>
<li>
<p><strong>Access Controls:</strong> Limit API key permissions to the minimum required for your application&#x27;s functionality.</p>
</li>
<li>
<p><strong>Regular Rotation:</strong> Periodically rotate API keys and update your applications to use the new keys to enhance security.</p>
</li>
<li>
<p><strong>Audit Logging:</strong> Monitor API key usage through Atlas&#x27;s auditing features to detect any unauthorized access.</p>
</li>
</ul>
<p>By following these steps, you can securely grant programmatic access to your MongoDB Atlas project, ensuring that your API keys are managed and utilized in accordance with best practices.</p>
<p>For more detailed information, refer to <a href="https://www.mongodb.com/docs/atlas/configure-api-access/#grant-programmatic-access-to-a-project" target="_blank" rel="noopener noreferrer">Guide</a>.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="minimum-system-requirements">Minimum System Requirements<a class="hash-link" aria-label="Direct link to Minimum System Requirements" title="Direct link to Minimum System Requirements" href="/maap-framework/docs/quick-starts/quickstarts/langchain#minimum-system-requirements">​</a></h3>
<ul>
<li>Sufficient CPU and memory for running Docker containers</li>
<li>Adequate network bandwidth for data transfer and API calls</li>
<li>For EC2: At least a <code>t3.medium</code> instance (or higher, depending on workload)</li>
<li>Sufficient EBS storage for EC2 instance (at least 100 GB recommended)</li>
<li>MongoDB Atlas M10 Cluster (auto-deployed by the <code>one-click</code> script)</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="41-one-click-deployment">4.1 One-Click Deployment<a class="hash-link" aria-label="Direct link to 4.1 One-Click Deployment" title="Direct link to 4.1 One-Click Deployment" href="/maap-framework/docs/quick-starts/quickstarts/langchain#41-one-click-deployment">​</a></h2>
<p>The <code>one-click.ksh</code> Korn shell script automates the deployment of the MongoDB - Cohere Quickstart application on AWS infrastructure. It sets up the necessary AWS resources, deploys an EC2 instance, and configures the application environment.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites-1">Prerequisites<a class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites" href="/maap-framework/docs/quick-starts/quickstarts/langchain#prerequisites-1">​</a></h3>
<ul>
<li>AWS CLI installed and configured with appropriate credentials</li>
<li>Access to a MongoDB Atlas account with necessary permissions</li>
<li>Korn shell (ksh) environment</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="script-structure">Script Structure<a class="hash-link" aria-label="Direct link to Script Structure" title="Direct link to Script Structure" href="/maap-framework/docs/quick-starts/quickstarts/langchain#script-structure">​</a></h3>
<p>The script is organized into several main functions:</p>
<ol>
<li><code>create_key()</code>: Creates or uses an existing EC2 key pair</li>
<li><code>deploy_infra()</code>: Deploys the base infrastructure using CloudFormation</li>
<li><code>deploy_ec2()</code>: Deploys the EC2 instance and application stack</li>
<li><code>read_logs()</code>: Streams deployment logs from the EC2 instance</li>
<li>Main execution flow</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuration">Configuration<a class="hash-link" aria-label="Direct link to Configuration" title="Direct link to Configuration" href="/maap-framework/docs/quick-starts/quickstarts/langchain#configuration">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="environment-variables">Environment Variables<a class="hash-link" aria-label="Direct link to Environment Variables" title="Direct link to Environment Variables" href="/maap-framework/docs/quick-starts/quickstarts/langchain#environment-variables">​</a></h4>
<ul>
<li><code>AWS_ACCESS_KEY_ID</code>: AWS access key</li>
<li><code>AWS_SECRET_ACCESS_KEY</code>: AWS secret key</li>
<li><code>AWS_SESSION_TOKEN</code>: AWS session token (if using temporary credentials)</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="deployment-parameters">Deployment Parameters<a class="hash-link" aria-label="Direct link to Deployment Parameters" title="Direct link to Deployment Parameters" href="/maap-framework/docs/quick-starts/quickstarts/langchain#deployment-parameters">​</a></h4>
<ul>
<li><code>INFRA_STACK_NAME</code>: Name for the infrastructure CloudFormation stack</li>
<li><code>EC2_STACK_NAME</code>: Name for the EC2 CloudFormation stack</li>
<li><code>AWS_REGION</code>: AWS region for deployment</li>
<li><code>EC2_INSTANCE_TYPE</code>: EC2 instance type (e.g., &quot;t3.xlarge&quot;)</li>
<li><code>VolumeSize</code>: EBS volume size in GB</li>
<li><code>GIT_REPO_URL</code>: URL of the application Git repository</li>
<li><code>MongoDBClusterName</code>: Name for the MongoDB Atlas cluster</li>
<li><code>MongoDBUserName</code>: MongoDB Atlas username</li>
<li><code>MongoDBPassword</code>: MongoDB Atlas password</li>
<li><code>APIPUBLICKEY</code>: MongoDB Atlas API public key</li>
<li><code>APIPRIVATEKEY</code>: MongoDB Atlas API private key</li>
<li><code>GROUPID</code>: MongoDB Atlas project ID</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="execution-flow">Execution Flow<a class="hash-link" aria-label="Direct link to Execution Flow" title="Direct link to Execution Flow" href="/maap-framework/docs/quick-starts/quickstarts/langchain#execution-flow">​</a></h3>
<ol>
<li>Initialize logging</li>
<li>Create or use existing EC2 key pair</li>
<li>Deploy infrastructure CloudFormation stack</li>
<li>Retrieve and store infrastructure stack outputs</li>
<li>Deploy EC2 instance and application CloudFormation stack</li>
<li>Start streaming EC2 deployment logs</li>
<li>Monitor application URL until it becomes available</li>
<li>Launch application URL in default browser</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functions">Functions<a class="hash-link" aria-label="Direct link to Functions" title="Direct link to Functions" href="/maap-framework/docs/quick-starts/quickstarts/langchain#functions">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="create_key">create_key()<a class="hash-link" aria-label="Direct link to create_key()" title="Direct link to create_key()" href="/maap-framework/docs/quick-starts/quickstarts/langchain#create_key">​</a></h4>
<p>Creates a new EC2 key pair or uses an existing one with the name &quot;MAAPCohereKeyV1&quot;.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="deploy_infra">deploy_infra()<a class="hash-link" aria-label="Direct link to deploy_infra()" title="Direct link to deploy_infra()" href="/maap-framework/docs/quick-starts/quickstarts/langchain#deploy_infra">​</a></h4>
<p>Deploys the base infrastructure CloudFormation stack, including VPC, subnet, security group, and IAM roles.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="deploy_ec2">deploy_ec2()<a class="hash-link" aria-label="Direct link to deploy_ec2()" title="Direct link to deploy_ec2()" href="/maap-framework/docs/quick-starts/quickstarts/langchain#deploy_ec2">​</a></h4>
<p>Deploys the EC2 instance and application stack using a CloudFormation template. It includes the following steps:</p>
<ul>
<li>Selects the appropriate AMI ID based on the AWS region</li>
<li>Creates the CloudFormation stack with necessary parameters</li>
<li>Waits for stack creation to complete</li>
<li>Retrieves and displays stack outputs</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="read_logs">read_logs()<a class="hash-link" aria-label="Direct link to read_logs()" title="Direct link to read_logs()" href="/maap-framework/docs/quick-starts/quickstarts/langchain#read_logs">​</a></h4>
<p>Establishes an SSH connection to the EC2 instance and streams the deployment logs in real-time.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="logging">Logging<a class="hash-link" aria-label="Direct link to Logging" title="Direct link to Logging" href="/maap-framework/docs/quick-starts/quickstarts/langchain#logging">​</a></h3>
<ul>
<li>Main deployment logs: <code>./logs/one-click-deployment.log</code></li>
<li>EC2 live logs: <code>./logs/ec2-live-logs.log</code></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="error-handling">Error Handling<a class="hash-link" aria-label="Direct link to Error Handling" title="Direct link to Error Handling" href="/maap-framework/docs/quick-starts/quickstarts/langchain#error-handling">​</a></h3>
<p>The script includes basic error checking for critical operations such as CloudFormation stack deployments. If an error occurs, the script will log the error and exit.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="security-considerations">Security Considerations<a class="hash-link" aria-label="Direct link to Security Considerations" title="Direct link to Security Considerations" href="/maap-framework/docs/quick-starts/quickstarts/langchain#security-considerations">​</a></h3>
<ul>
<li>AWS credentials are expected to be set as environment variables</li>
<li>MongoDB Atlas credentials and API keys are passed as CloudFormation parameters</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="customization">Customization<a class="hash-link" aria-label="Direct link to Customization" title="Direct link to Customization" href="/maap-framework/docs/quick-starts/quickstarts/langchain#customization">​</a></h3>
<p>To customize the deployment:</p>
<ol>
<li>Modify the CloudFormation template files (<code>deploy-infra.yaml</code> and <code>deploy-ec2.yaml</code>)</li>
<li>Adjust the deployment parameters at the beginning of the script</li>
<li>Update the AMI IDs in the <code>ami_map</code> if newer AMIs are available</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="troubleshooting">Troubleshooting<a class="hash-link" aria-label="Direct link to Troubleshooting" title="Direct link to Troubleshooting" href="/maap-framework/docs/quick-starts/quickstarts/langchain#troubleshooting">​</a></h3>
<ul>
<li>Check the log files for detailed information on the deployment process</li>
<li>Ensure all required environment variables and parameters are correctly set</li>
<li>Verify AWS CLI configuration and permissions</li>
<li>Check CloudFormation stack events in the AWS Console for detailed error messages</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="limitations">Limitations<a class="hash-link" aria-label="Direct link to Limitations" title="Direct link to Limitations" href="/maap-framework/docs/quick-starts/quickstarts/langchain#limitations">​</a></h3>
<ul>
<li>The script is designed for a specific application stack and may require modifications for other use cases</li>
<li>It assumes a certain MongoDB Atlas and AWS account setup</li>
<li>The script does not include rollback mechanisms for partial deployments. In case of partial failures, delete the related CloudFormation stacks from AWS Console.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="deployment-steps">Deployment Steps<a class="hash-link" aria-label="Direct link to Deployment Steps" title="Direct link to Deployment Steps" href="/maap-framework/docs/quick-starts/quickstarts/langchain#deployment-steps">​</a></h3>
<ol>
<li>
<p>Clone the repository:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git clone &lt;repository-url&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd langchain-qs</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Deploy Locally</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">make all</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Deploy on AWS
Configure the <code>one-click.ksh</code> script:
Open the script in a text editor and fill in the required values for various environment variables:</p>
<ul>
<li>AWS Auth: Specify the <code>AWS_REGION</code>, <code>AWS_ACCESS_KEY_ID</code>, <code>AWS_SECRET_ACCESS_KEY</code> for deployment.</li>
<li>EC2 Instance Types: Choose suitable instance types for your workload.</li>
<li>Network Configuration: Update key names, subnet IDs, security group IDs, etc.</li>
<li>Authentication Keys: Fetch Project ID, API public and private keys for MongoDB Atlas Cluster setup. Update the script file with the keys for <code>APIPUBLICKEY</code>, <code>APIPRIVATEKEY</code>, <code>GROUPID</code> suitably.</li>
</ul>
<p>Deploy the application:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">chmod +x one-click.ksh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./one-click.ksh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Access the application at locally: <code>http://localhost:8501</code> or aws: <code>http://&lt;ec2-instance-ip&gt;:8501</code></p>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="post-deployment-verification">Post-Deployment Verification<a class="hash-link" aria-label="Direct link to Post-Deployment Verification" title="Direct link to Post-Deployment Verification" href="/maap-framework/docs/quick-starts/quickstarts/langchain#post-deployment-verification">​</a></h3>
<ol>
<li>Access the UI service by navigating to <code>http://&lt;ec2-instance-ip&gt;:8501</code> in your web browser.</li>
<li>Test the system by entering a query and verifying that you receive an appropriate AI-generated response.</li>
<li>Verify that the sample dataset bundled with the script is loaded into your MongoDB Cluster name <code>MongoDBCohereV1</code> under the database <code>asset_management_use_case</code> and collection <code>market_reports</code> by visiting the <a href="https://cloud.mongodb.com" target="_blank" rel="noopener noreferrer">MongoDB Atlas Console</a>.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="5-configuration">5. Configuration<a class="hash-link" aria-label="Direct link to 5. Configuration" title="Direct link to 5. Configuration" href="/maap-framework/docs/quick-starts/quickstarts/langchain#5-configuration">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="51-environment-variables">5.1 Environment Variables<a class="hash-link" aria-label="Direct link to 5.1 Environment Variables" title="Direct link to 5.1 Environment Variables" href="/maap-framework/docs/quick-starts/quickstarts/langchain#51-environment-variables">​</a></h3>
<p>Each service requires specific environment variables for proper operation:</p>
<p><strong>Main Service</strong>:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">MONGODB_URI=&quot;mongodb+srv://username:password@cluster.mongodb.net/?retryWrites=true&amp;w=majority&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AWS_ACCESS_KEY_ID=&quot;your-aws-access-key&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AWS_SECRET_ACCESS_KEY=&quot;your-aws-secret-key&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AWS_REGION=&quot;us-east-1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FIREWORKS_API_KEY=&quot;xxxxxxxx&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="6-usage">6. Usage<a class="hash-link" aria-label="Direct link to 6. Usage" title="Direct link to 6. Usage" href="/maap-framework/docs/quick-starts/quickstarts/langchain#6-usage">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="61-user-interface">6.1 User Interface<a class="hash-link" aria-label="Direct link to 6.1 User Interface" title="Direct link to 6.1 User Interface" href="/maap-framework/docs/quick-starts/quickstarts/langchain#61-user-interface">​</a></h3>
<p>The MAAP UI is accessible via a web browser at <code>http://[server-ip]:8501</code>. The interface includes:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viewing-agent-responses">Viewing Agent Responses<a class="hash-link" aria-label="Direct link to Viewing Agent Responses" title="Direct link to Viewing Agent Responses" href="/maap-framework/docs/quick-starts/quickstarts/langchain#viewing-agent-responses">​</a></h3>
<ol>
<li>Enter a query or prompt in the chat input box.</li>
<li>Select a desired tool or model if multiple options are available.</li>
<li>Press &quot;Submit&quot; to see the AI-generated response. Use the conversation history to maintain context.</li>
<li>For file-driven tasks, upload your document and let the agent process relevant chunks to craft contextual replies.</li>
<li>Monitor agent outputs and iterate as needed to refine or adjust your queries.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="62-how-the-graph-works">6.2 How the Graph Works<a class="hash-link" aria-label="Direct link to 6.2 How the Graph Works" title="Direct link to 6.2 How the Graph Works" href="/maap-framework/docs/quick-starts/quickstarts/langchain#62-how-the-graph-works">​</a></h3>
<p>LangGraph composes multiple specialized agents that collaborate in a swarm-like architecture. Each agent can hand off tasks or results to others, ensuring the right tool or approach is used. This orchestration maximizes accuracy and efficiency, producing more comprehensive and context-aware responses.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/maap-framework/docs/quick-starts/quickstarts/ibm"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">IBM</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/maap-framework/docs/quick-starts/quickstarts/meta"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Meta</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/maap-framework/docs/quick-starts/quickstarts/langchain#introduction-to-mongodb-atlas-with-langchain">Introduction to MongoDB Atlas with LangChain</a><ul><li><a class="table-of-contents__link toc-highlight" href="/maap-framework/docs/quick-starts/quickstarts/langchain#langchain--mongodb-atlas">LangChain + MongoDB Atlas</a></li><li><a class="table-of-contents__link toc-highlight" href="/maap-framework/docs/quick-starts/quickstarts/langchain#building-advanced-ai-applications">Building Advanced AI Applications</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/maap-framework/docs/quick-starts/quickstarts/langchain#key-mongodb-langchain-integration-components">Key MongoDB-LangChain Integration Components</a><ul><li><a class="table-of-contents__link toc-highlight" href="/maap-framework/docs/quick-starts/quickstarts/langchain#mongodb-vector-store">MongoDB Vector Store</a></li><li><a class="table-of-contents__link toc-highlight" href="/maap-framework/docs/quick-starts/quickstarts/langchain#mongodb-checkpoint-saver">MongoDB Checkpoint Saver</a></li><li><a class="table-of-contents__link toc-highlight" href="/maap-framework/docs/quick-starts/quickstarts/langchain#mongodb-based-tools">MongoDB-Based Tools</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/maap-framework/docs/quick-starts/quickstarts/langchain#table-of-contents">Table of Contents</a></li><li><a class="table-of-contents__link toc-highlight" href="/maap-framework/docs/quick-starts/quickstarts/langchain#1-overview">1. Overview</a></li><li><a class="table-of-contents__link toc-highlight" href="/maap-framework/docs/quick-starts/quickstarts/langchain#2-system-architecture">2. System Architecture</a></li><li><a class="table-of-contents__link toc-highlight" href="/maap-framework/docs/quick-starts/quickstarts/langchain#3-components">3. Components</a><ul><li><a class="table-of-contents__link toc-highlight" href="/maap-framework/docs/quick-starts/quickstarts/langchain#31-ui-service">3.1 UI Service</a></li><li><a class="table-of-contents__link toc-highlight" href="/maap-framework/docs/quick-starts/quickstarts/langchain#32-mongodb-integration">3.2 MongoDB Integration</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/maap-framework/docs/quick-starts/quickstarts/langchain#4-installation--deployment">4. Installation &amp; Deployment</a><ul><li><a class="table-of-contents__link toc-highlight" href="/maap-framework/docs/quick-starts/quickstarts/langchain#prerequisites">Prerequisites</a></li><li><a class="table-of-contents__link toc-highlight" href="/maap-framework/docs/quick-starts/quickstarts/langchain#mongodb-atlas-programmatic-access">MongoDB Atlas Programmatic Access</a></li><li><a class="table-of-contents__link toc-highlight" href="/maap-framework/docs/quick-starts/quickstarts/langchain#minimum-system-requirements">Minimum System Requirements</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/maap-framework/docs/quick-starts/quickstarts/langchain#41-one-click-deployment">4.1 One-Click Deployment</a><ul><li><a class="table-of-contents__link toc-highlight" href="/maap-framework/docs/quick-starts/quickstarts/langchain#prerequisites-1">Prerequisites</a></li><li><a class="table-of-contents__link toc-highlight" href="/maap-framework/docs/quick-starts/quickstarts/langchain#script-structure">Script Structure</a></li><li><a class="table-of-contents__link toc-highlight" href="/maap-framework/docs/quick-starts/quickstarts/langchain#configuration">Configuration</a></li><li><a class="table-of-contents__link toc-highlight" href="/maap-framework/docs/quick-starts/quickstarts/langchain#execution-flow">Execution Flow</a></li><li><a class="table-of-contents__link toc-highlight" href="/maap-framework/docs/quick-starts/quickstarts/langchain#functions">Functions</a></li><li><a class="table-of-contents__link toc-highlight" href="/maap-framework/docs/quick-starts/quickstarts/langchain#logging">Logging</a></li><li><a class="table-of-contents__link toc-highlight" href="/maap-framework/docs/quick-starts/quickstarts/langchain#error-handling">Error Handling</a></li><li><a class="table-of-contents__link toc-highlight" href="/maap-framework/docs/quick-starts/quickstarts/langchain#security-considerations">Security Considerations</a></li><li><a class="table-of-contents__link toc-highlight" href="/maap-framework/docs/quick-starts/quickstarts/langchain#customization">Customization</a></li><li><a class="table-of-contents__link toc-highlight" href="/maap-framework/docs/quick-starts/quickstarts/langchain#troubleshooting">Troubleshooting</a></li><li><a class="table-of-contents__link toc-highlight" href="/maap-framework/docs/quick-starts/quickstarts/langchain#limitations">Limitations</a></li><li><a class="table-of-contents__link toc-highlight" href="/maap-framework/docs/quick-starts/quickstarts/langchain#deployment-steps">Deployment Steps</a></li><li><a class="table-of-contents__link toc-highlight" href="/maap-framework/docs/quick-starts/quickstarts/langchain#post-deployment-verification">Post-Deployment Verification</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/maap-framework/docs/quick-starts/quickstarts/langchain#5-configuration">5. Configuration</a><ul><li><a class="table-of-contents__link toc-highlight" href="/maap-framework/docs/quick-starts/quickstarts/langchain#51-environment-variables">5.1 Environment Variables</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/maap-framework/docs/quick-starts/quickstarts/langchain#6-usage">6. Usage</a><ul><li><a class="table-of-contents__link toc-highlight" href="/maap-framework/docs/quick-starts/quickstarts/langchain#61-user-interface">6.1 User Interface</a></li><li><a class="table-of-contents__link toc-highlight" href="/maap-framework/docs/quick-starts/quickstarts/langchain#viewing-agent-responses">Viewing Agent Responses</a></li><li><a class="table-of-contents__link toc-highlight" href="/maap-framework/docs/quick-starts/quickstarts/langchain#62-how-the-graph-works">6.2 How the Graph Works</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">© 2025 MongoDB, Inc.</div></div></div></footer></div>
</body>
</html>