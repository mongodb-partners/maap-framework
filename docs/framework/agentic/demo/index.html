<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-framework/agentic/demo/demo" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">üß™ Dr. Reddy&#x27;s Pharma Product QnA Assistant | MAAP</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://maap-framework.github.io/maap-framework/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://maap-framework.github.io/maap-framework/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://maap-framework.github.io/maap-framework/docs/framework/agentic/demo/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="üß™ Dr. Reddy&#x27;s Pharma Product QnA Assistant | MAAP"><meta data-rh="true" name="description" content="Build an AI-powered assistant for pharmaceutical representatives to answer product questions and check inventory"><meta data-rh="true" property="og:description" content="Build an AI-powered assistant for pharmaceutical representatives to answer product questions and check inventory"><link data-rh="true" rel="icon" href="/maap-framework/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://maap-framework.github.io/maap-framework/docs/framework/agentic/demo/"><link data-rh="true" rel="alternate" href="https://maap-framework.github.io/maap-framework/docs/framework/agentic/demo/" hreflang="en"><link data-rh="true" rel="alternate" href="https://maap-framework.github.io/maap-framework/docs/framework/agentic/demo/" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Demos","item":"https://maap-framework.github.io/maap-framework/docs/category/demos"},{"@type":"ListItem","position":2,"name":"üß™ Dr. Reddy's Pharma Product QnA Assistant","item":"https://maap-framework.github.io/maap-framework/docs/framework/agentic/demo/"}]}</script><link rel="stylesheet" href="/maap-framework/assets/css/styles.a82a49b6.css">
<script src="/maap-framework/assets/js/runtime~main.14208abe.js" defer="defer"></script>
<script src="/maap-framework/assets/js/main.0aa90fea.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/maap-framework/"><div class="navbar__logo"><img src="/maap-framework/img/logo.svg" alt="MAAP Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/maap-framework/img/logo.svg" alt="MAAP Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">MAAP</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/maap-framework/docs/framework/intro">Frameworks</a><a class="navbar__item navbar__link" href="/maap-framework/docs/category/-quick-starts">Quick starts</a><a class="navbar__item navbar__link" href="/maap-framework/docs/category/-blogs">Partner Blogs</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/mongodb-partners/maap-framework/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/maap-framework/docs/framework/intro">MAAP Frameworks</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/maap-framework/docs/framework/agentic/intro">ü§ñ Agentic Framework</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/maap-framework/docs/framework/agentic/intro">Framework Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/maap-framework/docs/category/components">Components</a><button aria-label="Expand sidebar category &#x27;Components&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/maap-framework/docs/category/demos">Demos</a><button aria-label="Collapse sidebar category &#x27;Demos&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/maap-framework/docs/framework/agentic/demo/">üß™ Dr. Reddy&#x27;s Pharma Product QnA Assistant</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/maap-framework/docs/framework/rag/intro">üß† RAG Framework</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/maap-framework/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">ü§ñ Agentic Framework</span></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/maap-framework/docs/category/demos"><span>Demos</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">üß™ Dr. Reddy&#x27;s Pharma Product QnA Assistant</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>üß™ Dr. Reddy&#x27;s Pharma Product QnA Assistant</h1></header>
<blockquote>
<p><strong>Build an AI-powered assistant for pharmaceutical representatives to answer product questions and check inventory</strong></p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-overview">üìã Overview<a href="#-overview" class="hash-link" aria-label="Direct link to üìã Overview" title="Direct link to üìã Overview">‚Äã</a></h2>
<p>This demonstration showcases a complete solution for pharmaceutical representatives who need instant access to accurate product information and real-time inventory data while in the field meeting with healthcare providers.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-key-capabilities">‚úÖ Key Capabilities<a href="#-key-capabilities" class="hash-link" aria-label="Direct link to ‚úÖ Key Capabilities" title="Direct link to ‚úÖ Key Capabilities">‚Äã</a></h3>
<table><thead><tr><th>Capability</th><th>Description</th></tr></thead><tbody><tr><td><strong>Product Knowledge</strong></td><td>Answer detailed questions about medication indications, contraindications, dosages, and side efects</td></tr><tr><td><strong>Inventory Management</strong></td><td>Check real-time stock levels across multiple distribution centers</td></tr><tr><td><strong>Memory</strong></td><td>Maintain conversation context and recall previous interactions</td></tr><tr><td><strong>Compliance</strong></td><td>Generate accurate responses based only on approved documentation</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="Ô∏è-solution-architecture">üèóÔ∏è Solution Architecture<a href="#Ô∏è-solution-architecture" class="hash-link" aria-label="Direct link to üèóÔ∏è Solution Architecture" title="Direct link to üèóÔ∏è Solution Architecture">‚Äã</a></h2>
<!-- -->
<table><thead><tr><th>Component</th><th>Purpose</th></tr></thead><tbody><tr><td><strong>MAAP Data Loader</strong></td><td>Ingest and process pharmaceutical documentation (PDFs, package inserts, technical data)</td></tr><tr><td><strong>MAAP Agent Builder</strong></td><td>Create a conversational AI interface with specialized tool-calling capabilities</td></tr><tr><td><strong>Memory MCP Server</strong></td><td>Store and manage conversational memory for contextual responses</td></tr><tr><td><strong>MongoDB Atlas</strong></td><td>Store and query both unstructured product knowledge and structured inventory data</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-implementation-process">üîÑ Implementation Process<a href="#-implementation-process" class="hash-link" aria-label="Direct link to üîÑ Implementation Process" title="Direct link to üîÑ Implementation Process">‚Äã</a></h2>
<p>This implementation guide is organized into three sequential phases:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-phase-1-data-pipeline">üìä Phase 1: Data Pipeline<a href="#-phase-1-data-pipeline" class="hash-link" aria-label="Direct link to üìä Phase 1: Data Pipeline" title="Direct link to   üìä Phase 1: Data Pipeline">‚Äã</a></h3>
<ul>
<li>Download pharmaceutical product PDFs from Dr. Reddy&#x27;s</li>
<li>Process documents using MAAP Data Loader</li>
<li>Extract and index meaningful content</li>
<li>Import structured inventory and product data</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-phase-2-agent-creation">ü§ñ Phase 2: Agent Creation<a href="#-phase-2-agent-creation" class="hash-link" aria-label="Direct link to ü§ñ Phase 2: Agent Creation" title="Direct link to ü§ñ Phase 2: Agent Creation">‚Äã</a></h3>
<ul>
<li>Configure the pharmaceutical representative agent</li>
<li>Set up vector search for product knowledge</li>
<li>Integrate MongoDB tools for inventory queries</li>
<li>Define agent behavior parameters</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-phase-3-validation">üß™ Phase 3: Validation<a href="#-phase-3-validation" class="hash-link" aria-label="Direct link to üß™ Phase 3: Validation" title="Direct link to üß™ Phase 3: Validation">‚Äã</a></h3>
<ul>
<li>Test with representative medical field queries</li>
<li>Verify accuracy against official documentation</li>
<li>Confirm inventory checking capabilities</li>
<li>Evaluate response quality and compliance</li>
</ul>
<h1>üìö PHASE 1: DATA PIPELINE</h1>
<blockquote>
<p><strong>Ingest and process Dr. Reddy&#x27;s pharmaceutical documentation</strong></p>
</blockquote>
<p>This phase walks through setting up the data pipeline that will power your pharmaceutical assistant. We&#x27;ll process product documentation and create searchable collections in MongoDB Atlas.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="Ô∏è-prerequisites">‚öôÔ∏è Prerequisites<a href="#Ô∏è-prerequisites" class="hash-link" aria-label="Direct link to ‚öôÔ∏è Prerequisites" title="Direct link to ‚öôÔ∏è Prerequisites">‚Äã</a></h2>
<p>Before starting, verify you have the following components ready:</p>
<table><thead><tr><th>Requirement</th><th>Details</th></tr></thead><tbody><tr><td><strong>MongoDB Atlas</strong></td><td>Active cluster with connection string</td></tr><tr><td><strong>MAAP Data Loader</strong></td><td>Installed and configured</td></tr><tr><td><strong>Python Environment</strong></td><td>Python 3.8+ with required libraries</td></tr><tr><td><strong>Source Data</strong></td><td>Access to Dr. Reddy&#x27;s product documentation URLs</td></tr><tr><td><strong>AWS Account</strong></td><td>Optional: For AWS Bedrock embedding generation</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="Ô∏è-setup-process">üõ†Ô∏è Setup Process<a href="#Ô∏è-setup-process" class="hash-link" aria-label="Direct link to üõ†Ô∏è Setup Process" title="Direct link to üõ†Ô∏è Setup Process">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-environment-configuration">Step 1: Environment Configuration<a href="#step-1-environment-configuration" class="hash-link" aria-label="Direct link to Step 1: Environment Configuration" title="Direct link to Step 1: Environment Configuration">‚Äã</a></h3>
<p>First, set up your development environment:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Clone the repository</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clone https://github.com/mongodb-partners/maap-data-loader.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd maap-data-loader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Create and activate virtual environment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python -m venv venv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source venv/bin/activate  # On Windows: venv\Scripts\activate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Install dependencies</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip install -r requirements.txt</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-configuration-file-setup">Step 2: Configuration File Setup<a href="#step-2-configuration-file-setup" class="hash-link" aria-label="Direct link to Step 2: Configuration File Setup" title="Direct link to Step 2: Configuration File Setup">‚Äã</a></h3>
<p>Create a <code>.env</code> file in the project root directory:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#===================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># MongoDB Configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#===================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MONGODB_DATABASE=dr_reddys_demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MONGODB_COLLECTION=product_documents</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#===================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># AWS Configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#===================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AWS_ACCESS_KEY_ID=your_aws_access_key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AWS_SECRET_ACCESS_KEY=your_aws_secret_key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AWS_REGION=us-east-1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#===================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Application Settings</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#===================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">LOCAL_FILE_OUTPUT_DIR=./processed_files</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN_ENV=local</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-3-document-collection">Step 3: Document Collection<a href="#step-3-document-collection" class="hash-link" aria-label="Direct link to Step 3: Document Collection" title="Direct link to Step 3: Document Collection">‚Äã</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="31-download-product-documentation">3.1 Download Product Documentation<a href="#31-download-product-documentation" class="hash-link" aria-label="Direct link to 3.1 Download Product Documentation" title="Direct link to 3.1 Download Product Documentation">‚Äã</a></h4>
<p>Gather Dr. Reddy&#x27;s pharmaceutical product documentation using the provided scripts:</p>
<p><strong>Python Script (Advanced)</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Navigate to the data directory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Install required dependencies</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip install requests pdfkit selenium webdriver-manager</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Execute the Python downloader with options</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python download_urls.py --output-dir ./pdf_downloads --concurrent 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Return to project root</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd ..</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="32-document-content-overview">3.2 Document Content Overview<a href="#32-document-content-overview" class="hash-link" aria-label="Direct link to 3.2 Document Content Overview" title="Direct link to 3.2 Document Content Overview">‚Äã</a></h4>
<p>The downloaded PDFs contain comprehensive pharmaceutical information:</p>
<table><thead><tr><th>Content Type</th><th>Description</th></tr></thead><tbody><tr><td>Active Ingredients</td><td>Chemical compounds and their concentrations</td></tr><tr><td>Indications</td><td>Approved medical uses and conditions</td></tr><tr><td>Contraindications</td><td>Situations when medication should not be used</td></tr><tr><td>Dosage Information</td><td>Recommended dosages by age, weight, condition</td></tr><tr><td>Side Effects</td><td>Common and rare adverse reactions</td></tr><tr><td>Storage Instructions</td><td>Temperature, humidity and handling requirements</td></tr><tr><td>Regulatory Information</td><td>Approval details and compliance data</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-data-processing-workflow">üîÑ Data Processing Workflow<a href="#-data-processing-workflow" class="hash-link" aria-label="Direct link to üîÑ Data Processing Workflow" title="Direct link to üîÑ Data Processing Workflow">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-4-document-processing">Step 4: Document Processing<a href="#step-4-document-processing" class="hash-link" aria-label="Direct link to Step 4: Document Processing" title="Direct link to Step 4: Document Processing">‚Äã</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="41-start-the-data-processing-service">4.1 Start the Data Processing Service<a href="#41-start-the-data-processing-service" class="hash-link" aria-label="Direct link to 4.1 Start the Data Processing Service" title="Direct link to 4.1 Start the Data Processing Service">‚Äã</a></h4>
<p>Launch the MAAP Data Loader service:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Start the processing server</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python app.py</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="42-verify-service-health">4.2 Verify Service Health<a href="#42-verify-service-health" class="hash-link" aria-label="Direct link to 4.2 Verify Service Health" title="Direct link to 4.2 Verify Service Health">‚Äã</a></h4>
<p>Confirm the service is running correctly:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -X GET http://localhost:8000/health</span><br></span></code></pre></div></div>
<p>Expected response:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{&quot;status&quot;: &quot;healthy&quot;}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="43-process-individual-documents">4.3 Process Individual Documents<a href="#43-process-individual-documents" class="hash-link" aria-label="Direct link to 4.3 Process Individual Documents" title="Direct link to 4.3 Process Individual Documents">‚Äã</a></h4>
<p>Process a single document to test the pipeline:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Process a single PDF file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -X POST http://localhost:8000/local/upload \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -H &quot;Content-Type: multipart/form-data&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -F &quot;files=@./data/pdf_downloads/all5-17.07.2024.pdf&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -F &#x27;json_input_params={</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;user_id&quot;: &quot;dr_reddys_demo&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;mongodb_config&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;uri&quot;: &quot;mongodb+srv://username:password@cluster.mongodb.net&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;database&quot;: &quot;dr_reddys_demo&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;collection&quot;: &quot;product_documents&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;index_name&quot;: &quot;vector_index&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;text_field&quot;: &quot;text&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;embedding_field&quot;: &quot;embedding&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }&#x27;</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="44-batch-process-all-documents">4.4 Batch Process All Documents<a href="#44-batch-process-all-documents" class="hash-link" aria-label="Direct link to 4.4 Batch Process All Documents" title="Direct link to 4.4 Batch Process All Documents">‚Äã</a></h4>
<p>Create and execute a batch processing script for all documents:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Create batch processing script</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cat &gt; process_all_pdfs.sh &lt;&lt; &#x27;EOF&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#!/bin/bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PDF_DIR=&quot;./data/pdf_downloads&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PROCESSED=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">TOTAL=$(find &quot;$PDF_DIR&quot; -name &quot;*.pdf&quot; | wc -l)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;üîÑ Starting batch processing of $TOTAL PDF files&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">for pdf_file in &quot;$PDF_DIR&quot;/*.pdf; do</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  if [ -f &quot;$pdf_file&quot; ]; then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    PROCESSED=$((PROCESSED+1))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    FILENAME=$(basename &quot;$pdf_file&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;üìÑ [$PROCESSED/$TOTAL] Processing: $FILENAME&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    curl -s -X POST http://localhost:8000/local/upload \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      -H &quot;Content-Type: multipart/form-data&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      -F &quot;files=@$pdf_file&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      -F &#x27;json_input_params={</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;user_id&quot;: &quot;dr_reddys_demo&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;mongodb_config&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;uri&quot;: &quot;mongodb+srv://username:password@cluster.mongodb.net&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;database&quot;: &quot;dr_reddys_demo&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;collection&quot;: &quot;product_documents&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;index_name&quot;: &quot;vector_index&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;text_field&quot;: &quot;text&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;embedding_field&quot;: &quot;embedding&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo -e &quot;\n‚è±Ô∏è Waiting 2 seconds before next file...&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sleep 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  fi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">done</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;‚úÖ Completed processing $PROCESSED files&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EOF</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Make the script executable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chmod +x process_all_pdfs.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Run the batch processing script</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./process_all_pdfs.sh</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="45-expected-processing-results">4.5 Expected Processing Results<a href="#45-expected-processing-results" class="hash-link" aria-label="Direct link to 4.5 Expected Processing Results" title="Direct link to 4.5 Expected Processing Results">‚Äã</a></h4>
<p>Each successfully processed document will return:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;success&quot;: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;message&quot;: &quot;Upload processed successfully&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;details&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;files_processed&quot;: 1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;urls_processed&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;documents_stored&quot;: 1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;file_list&quot;: [&quot;all5-17.07.2024.pdf&quot;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;url_list&quot;: []</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-verification-process">üîç Verification Process<a href="#-verification-process" class="hash-link" aria-label="Direct link to üîç Verification Process" title="Direct link to üîç Verification Process">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-5-data-validation">Step 5: Data Validation<a href="#step-5-data-validation" class="hash-link" aria-label="Direct link to Step 5: Data Validation" title="Direct link to Step 5: Data Validation">‚Äã</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="51-mongodb-atlas-web-interface">5.1 MongoDB Atlas Web Interface<a href="#51-mongodb-atlas-web-interface" class="hash-link" aria-label="Direct link to 5.1 MongoDB Atlas Web Interface" title="Direct link to 5.1 MongoDB Atlas Web Interface">‚Äã</a></h4>
<p>Verify proper document ingestion using the MongoDB Atlas web interface:</p>
<ol>
<li>Log in to your <a href="https://cloud.mongodb.com" target="_blank" rel="noopener noreferrer">MongoDB Atlas account</a></li>
<li>Navigate to your project &gt; Database &gt; Browse Collections</li>
<li>Select the <code>dr_reddys_demo</code> database</li>
<li>Examine the <code>product_info</code> collection</li>
<li>Confirm documents contain the following structure:</li>
</ol>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;_id&quot;: ObjectId(&quot;...&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;text&quot;: &quot;ALLERWAY 5: COMPOSITION: Each film-coated tablet contains levocetirizine dihydrochloride 5 mg...&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;embedding&quot;: [0.023, -0.128, 0.332, ...],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;user_id&quot;: &quot;dr_reddys_demo&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;metadata&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;filename&quot;: &quot;all5-17.07.2024.pdf&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;processed_at&quot;: &quot;2025-08-08T10:23:45Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;pages&quot;: 4,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;file_type&quot;: &quot;application/pdf&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="52-mongodb-compass-desktop-client">5.2 MongoDB Compass (Desktop Client)<a href="#52-mongodb-compass-desktop-client" class="hash-link" aria-label="Direct link to 5.2 MongoDB Compass (Desktop Client)" title="Direct link to 5.2 MongoDB Compass (Desktop Client)">‚Äã</a></h4>
<p>For more advanced validation using the MongoDB Compass desktop client:</p>
<ol>
<li>Download and install <a href="https://www.mongodb.com/products/compass" target="_blank" rel="noopener noreferrer">MongoDB Compass</a></li>
<li>Connect using your MongoDB Atlas connection string</li>
<li>Navigate to the <code>dr_reddys_demo.product_info</code> collection</li>
<li>Run sample validation queries:</li>
</ol>
<p><strong>Sample Query 1: Find documents by product name</strong></p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token literal-property property" style="color:#36acaa">text</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token literal-property property" style="color:#36acaa">$regex</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Cifloc&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">$options</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;i&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p><strong>Sample Query 2: Find documents with dosage information</strong></p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token literal-property property" style="color:#36acaa">text</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token literal-property property" style="color:#36acaa">$regex</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;recommended dose|dosage|administered&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">$options</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;i&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p><strong>Sample Query 3: Find documents with side effects</strong></p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token literal-property property" style="color:#36acaa">text</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token literal-property property" style="color:#36acaa">$regex</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;adverse|side effects|warnings&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">$options</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;i&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h1>üìä PHASE 1B: STRUCTURED DATA INTEGRATION</h1>
<blockquote>
<p><strong>Enhance your agent with real-time inventory and product data</strong></p>
</blockquote>
<p>While PDF content provides valuable pharmaceutical information, structured data gives your agent access to precise, queryable business data like inventory levels and product specifications.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="Ô∏è-mongodb-inventory-integration">üóÉÔ∏è MongoDB Inventory Integration<a href="#Ô∏è-mongodb-inventory-integration" class="hash-link" aria-label="Direct link to üóÉÔ∏è MongoDB Inventory Integration" title="Direct link to üóÉÔ∏è MongoDB Inventory Integration">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-prepare-structured-data-schema">Step 1: Prepare Structured Data Schema<a href="#step-1-prepare-structured-data-schema" class="hash-link" aria-label="Direct link to Step 1: Prepare Structured Data Schema" title="Direct link to Step 1: Prepare Structured Data Schema">‚Äã</a></h3>
<p>Our inventory system will track products across multiple distribution centers with the following information:</p>
<ul>
<li>Product ID and name</li>
<li>Batch numbers and expiration dates</li>
<li>Quantity available</li>
<li>Distribution center location</li>
<li>Pricing information</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-run-data-ingestion-script">Step 2: Run Data Ingestion Script<a href="#step-2-run-data-ingestion-script" class="hash-link" aria-label="Direct link to Step 2: Run Data Ingestion Script" title="Direct link to Step 2: Run Data Ingestion Script">‚Äã</a></h3>
<p>Execute our structured data ingestion script:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Navigate to the demo directory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd dr_reddy_pharma_sales_rep_demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Execute the import script</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python ingest_structured_data.py \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --mongodb-uri &quot;mongodb+srv://username:password@cluster.mongodb.net&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --database &quot;dr_reddys_demo&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --products-collection &quot;products&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --inventory-collection &quot;inventory&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --centers-collection &quot;distribution_centers&quot;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-3-script-functionality">Step 3: Script Functionality<a href="#step-3-script-functionality" class="hash-link" aria-label="Direct link to Step 3: Script Functionality" title="Direct link to Step 3: Script Functionality">‚Äã</a></h3>
<p>The <code>ingest_structured_data.py</code> script performs these key operations:</p>
<table><thead><tr><th>Operation</th><th>Description</th></tr></thead><tbody><tr><td><strong>Data Loading</strong></td><td>Imports structured product data from <code>data/dr_reddys_products.json</code></td></tr><tr><td><strong>Collection Creation</strong></td><td>Creates and populates three interrelated collections</td></tr><tr><td><strong>Relationship Building</strong></td><td>Establishes connections between products, documents, and inventory</td></tr><tr><td><strong>Data Enrichment</strong></td><td>Adds computed fields and search optimizations</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-4-data-model-overview">Step 4: Data Model Overview<a href="#step-4-data-model-overview" class="hash-link" aria-label="Direct link to Step 4: Data Model Overview" title="Direct link to Step 4: Data Model Overview">‚Äã</a></h3>
<p>The script creates a comprehensive data model with these collections:</p>
<p><strong>Collection: <code>products</code></strong></p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">&quot;_id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">ObjectId</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;...&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">&quot;brand_name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Allerway 5&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">&quot;molecule&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Levocetirizine Dihydrochloride&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">&quot;therapy&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Antihistaminics&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">&quot;dosage_form&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Tabs&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">&quot;package_insert_url&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://www.drreddys.co.za/sites/.../all5-17.07.2024.pdf&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">&quot;document_id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">ObjectId</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;...&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Link to unstructured PDF data</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">&quot;search_text&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Allerway 5 Levocetirizine Dihydrochloride&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p><strong>Collection: <code>inventory</code></strong></p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">&quot;_id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">ObjectId</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;...&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">&quot;product_id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">ObjectId</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;...&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">&quot;distribution_center_id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">ObjectId</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;...&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">&quot;quantity&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">315</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">&quot;last_updated&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">ISODate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;2025-08-08T12:34:56Z&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">&quot;reorder_level&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">&quot;available&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p><strong>Collection: <code>distribution_centers</code></strong></p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">&quot;_id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">ObjectId</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;...&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Mumbai Central&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">&quot;location&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string-property property" style="color:#36acaa">&quot;city&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Mumbai&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string-property property" style="color:#36acaa">&quot;state&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Maharashtra&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string-property property" style="color:#36acaa">&quot;country&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;India&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">&quot;address&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;123 Main Street, Mumbai&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">&quot;contact&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;+91-9876543210&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-5-verify-data-ingestion">Step 5: Verify Data Ingestion<a href="#step-5-verify-data-ingestion" class="hash-link" aria-label="Direct link to Step 5: Verify Data Ingestion" title="Direct link to Step 5: Verify Data Ingestion">‚Äã</a></h3>
<p>A successful import will show this output:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">üîÑ Loading data from ./data/dr_reddys_products.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚úÖ Successfully connected to MongoDB Atlas</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">üìä Created products collection with 38 products</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">üì¶ Created inventory collection with 152 inventory records</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">üè¢ Created distribution centers collection with 12 centers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">üîó Successfully linked PDF documents with product data</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-dual-data-advantage">üîÑ Dual-Data Advantage<a href="#-dual-data-advantage" class="hash-link" aria-label="Direct link to üîÑ Dual-Data Advantage" title="Direct link to üîÑ Dual-Data Advantage">‚Äã</a></h2>
<p>With both unstructured and structured data sources integrated, your agent can now:</p>
<ol>
<li><strong>Access Deep Knowledge</strong>: Retrieve detailed pharmaceutical information from product documentation</li>
<li><strong>Provide Business Context</strong>: Offer real-time inventory levels, pricing, and availability information</li>
<li><strong>Answer Complex Queries</strong>: Respond to questions that require both knowledge types:<!-- -->
<ul>
<li>&quot;What is the recommended dosage for Allerway 5 and is it available in the Boston distribution center?&quot;</li>
<li>&quot;Tell me about the side effects of Reegen-D 15000 and check if it&#x27;s available for expedited shipping from our New York warehouse.&quot;</li>
</ul>
</li>
</ol>
<h1>ü§ñ PHASE 2: AGENT CREATION</h1>
<blockquote>
<p><strong>Build an intelligent pharmaceutical assistant with MAAP Agent Builder</strong></p>
</blockquote>
<p>Now that our data pipeline is complete with both unstructured (PDFs) and structured (products/inventory) data in MongoDB Atlas, we&#x27;ll install, configure, and deploy a specialized agent for pharmaceutical representatives.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-installing-maap-agent-builder">üîß Installing MAAP Agent Builder<a href="#-installing-maap-agent-builder" class="hash-link" aria-label="Direct link to üîß Installing MAAP Agent Builder" title="Direct link to üîß Installing MAAP Agent Builder">‚Äã</a></h2>
<p>Before configuring your agent, you need to set up the MAAP Agent Builder framework:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Clone the repository</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clone https://github.com/mongodb-partners/maap-agent-builder.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd maap-agent-builder</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Set up a virtual environment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python -m venv venv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source venv/bin/activate  # On Windows: venv\Scripts\activate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Install the package</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip install -e .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Create necessary directories</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdir -p config logs prompts</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="required-dependencies">Required Dependencies<a href="#required-dependencies" class="hash-link" aria-label="Direct link to Required Dependencies" title="Direct link to Required Dependencies">‚Äã</a></h3>
<p>The agent builder requires several key dependencies:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Install core dependencies for MongoDB integration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip install pymongo langchain-mongodb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Install embedding providers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip install voyageai boto3 langchain-aws</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Install MCP dependencies for memory capabilities</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip install langchain-mcp-adapters fastmcp</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="Ô∏è-agent-configuration">üõ†Ô∏è Agent Configuration<a href="#Ô∏è-agent-configuration" class="hash-link" aria-label="Direct link to üõ†Ô∏è Agent Configuration" title="Direct link to üõ†Ô∏è Agent Configuration">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-yaml-configuration">Step 1: YAML Configuration<a href="#step-1-yaml-configuration" class="hash-link" aria-label="Direct link to Step 1: YAML Configuration" title="Direct link to Step 1: YAML Configuration">‚Äã</a></h3>
<p>Create or update your <code>config/agents.yaml</code> file with the following configuration:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#===================================</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Dr. Reddy&#x27;s Pharma Sales Rep Agent - Configuration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#===================================</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Configure the embedding models</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">embeddings</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> voyage_embeddings</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">provider</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> voyageai</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">model_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> voyage</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">3.5</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">lite</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">additional_kwargs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">output_dimension</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">512</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> bedrock</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">titan</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">provider</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> bedrock</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">model_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> amazon.titan</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">embed</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">text</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Configure the language model</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">llms</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> claude</span><span class="token punctuation" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">3.5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">provider</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> bedrock</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">model_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> anthropic.claude</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">3</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">5</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">sonnet</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">20240620</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">v1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">temperature</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.7</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">max_tokens</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4096</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Configure agent tools</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">tools</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Product Availability Tool (Full-text search)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> product_availability</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">tool_type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> full_text_search</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">description</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Checks product availability of the product in the MongoDB database</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">connection_str</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">MONGODB_URI</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">mongodb</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//localhost</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">27017</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">namespace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> dr_reddys.product_inventory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">additional_kwargs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">index_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> full_text_search_index</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">text_field</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> search_text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">top_k</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Product Information Tool (Vector search)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> product_information</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">tool_type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> vector_search</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">description</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Searches for relevant documents in the vector store to help with FAQ on dr reddys product information</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">connection_str</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">MONGODB_URI</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">mongodb</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//localhost</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">27017</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">namespace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> dr_reddys.product_info</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">embedding_model</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> voyage_embeddings  </span><span class="token comment" style="color:#999988;font-style:italic"># Reference to the embedding model defined above</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">additional_kwargs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">index_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> vector_index</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">top_k</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">min_score</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.7</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># AI Memory Tool (MCP server integration)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ai</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">memory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">tool_type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mcp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">description</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MongoDB MCP Toolkit for advanced data operations</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">servers_config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">&quot;ai-memory&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">url</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;http://localhost:8080/mcp&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">transport</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;streamable_http&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">filter</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> store_memory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> retrieve_memory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> semantic_cache_response</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Configure checkpointing</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">checkpointer</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">connection_str</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">MONGODB_URI</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">mongodb</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//localhost</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">27017</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">db_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> dr_reddy_agent_state</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">collection_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> checkpoints</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> rag_agent_checkpointer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Configure the agent</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">agent</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> rag_react_agent</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">agent_type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> react</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">llm</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> claude</span><span class="token punctuation" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">3.5</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Reference to the LLM defined above</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">tools</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> product_information  </span><span class="token comment" style="color:#999988;font-style:italic"># References to the tools defined above</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> product_availability</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ai</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">memory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">system_prompt_path</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ./prompts/rag_system_prompt.txt</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-agent-deployment">Step 2: Agent Deployment<a href="#step-2-agent-deployment" class="hash-link" aria-label="Direct link to Step 2: Agent Deployment" title="Direct link to Step 2: Agent Deployment">‚Äã</a></h3>
<p>Launch the agent service with all required environment variables:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Set required environment variables</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export MONGODB_URI=&quot;mongodb+srv://username:password@cluster.mongodb.net&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export AWS_ACCESS_KEY_ID=&quot;your_aws_access_key&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export AWS_SECRET_ACCESS_KEY=&quot;your_aws_secret_key&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export AWS_REGION=&quot;us-east-1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export VOYAGE_API_KEY=&quot;your_voyage_api_key&quot;  # Required for voyage embeddings</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Start the agent service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python -m agent_builder.cli serve \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --config config/agents.yaml \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --host 0.0.0.0 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --port 5000</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-3-create-system-prompt">Step 3: Create System Prompt<a href="#step-3-create-system-prompt" class="hash-link" aria-label="Direct link to Step 3: Create System Prompt" title="Direct link to Step 3: Create System Prompt">‚Äã</a></h3>
<p>Create a system prompt file that defines your agent&#x27;s behavior and capabilities:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Create the prompts directory if it doesn&#x27;t exist</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdir -p prompts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Create the system prompt file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cat &gt; prompts/rag_system_prompt.txt &lt;&lt; &#x27;EOF&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Pharmaceutical Sales Representative Assistant</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">You are an AI assistant specialized in helping pharmaceutical sales representatives with detailed product information, inventory management, and clinical knowledge.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">## Your Capabilities</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Access detailed pharmaceutical product information including indications, contraindications, dosages, side effects</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Check real-time inventory levels across distribution centers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Maintain conversation memory to provide contextual assistance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Generate compliant, factual responses based only on approved documentation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">## Guidelines</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1. Always provide factually accurate information based on official Dr. Reddy&#x27;s product documentation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2. When discussing medications, include important safety information and contraindications</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3. For inventory queries, provide specific details on availability, location, and quantity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4. Use professional, clear language appropriate for pharmaceutical professionals</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5. Maintain conversation context by referencing relevant details from previous exchanges</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">6. If unsure about any information, clearly state the limitations of your knowledge</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">7. Do not provide medical advice beyond what is contained in official product documentation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Remember: Your responses will be used by pharmaceutical representatives when speaking with healthcare professionals, so accuracy and compliance are essential.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EOF</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-4-agent-validation">Step 4: Agent Validation<a href="#step-4-agent-validation" class="hash-link" aria-label="Direct link to Step 4: Agent Validation" title="Direct link to Step 4: Agent Validation">‚Äã</a></h3>
<p>Test the agent through the API:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Example API request</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -X POST http://localhost:5000/chat \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -H &quot;Content-Type: application/json&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -d &#x27;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;messages&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      {&quot;role&quot;: &quot;user&quot;, &quot;content&quot;: &quot;What are the indications for Allerway 5?&quot;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;config&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;thread_id&quot;: &quot;user-session-123&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;recursion_limit&quot;: 10,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }&#x27;</span><br></span></code></pre></div></div>
<p>Or access the web interface by opening: <a href="http://localhost:5000" target="_blank" rel="noopener noreferrer">http://localhost:5000</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-example-prompts-for-testing">üìù Example Prompts for Testing<a href="#-example-prompts-for-testing" class="hash-link" aria-label="Direct link to üìù Example Prompts for Testing" title="Direct link to üìù Example Prompts for Testing">‚Äã</a></h2>
<p>Test your agent with these pharmaceutical representative scenarios:</p>
<table><thead><tr><th>Category</th><th>Example Prompt</th></tr></thead><tbody><tr><td><strong>Product Information</strong></td><td>&quot;What are the side effects of Cifloc and how do they compare to similar antibiotics?&quot;</td></tr><tr><td><strong>Dosage Guidance</strong></td><td>&quot;A doctor is considering prescribing Alnedra to an elderly patient with kidney issues. What&#x27;s the recommended dosage adjustment?&quot;</td></tr><tr><td><strong>Inventory Check</strong></td><td>&quot;I&#x27;m meeting with a hospital pharmacy manager tomorrow. What&#x27;s our current inventory level of Drymed 500 in the Mumbai distribution center?&quot;</td></tr><tr><td><strong>Safety Information</strong></td><td>&quot;A patient is pregnant in her second trimester. Are there any contraindications for using Cifloc in her case?&quot;</td></tr><tr><td><strong>Storage Requirements</strong></td><td>&quot;A clinic in a rural area without reliable refrigeration asks about Lenap 10mg. What are the storage requirements?&quot;</td></tr><tr><td><strong>Combined Query</strong></td><td>&quot;I need information about Reegen-D 15000 for a dermatology clinic. What are the key benefits and do we have enough stock to fulfill a large order?&quot;</td></tr></tbody></table>
<h1>ÔøΩ PHASE 2B: MCP SERVER INTEGRATION</h1>
<blockquote>
<p><strong>Enhance your agent with MongoDB Memory MCP server integration</strong></p>
</blockquote>
<p>After configuring the basic agent, you can extend its capabilities by integrating with the MongoDB Memory MCP server, providing advanced memory management, semantic caching, and hybrid search functionality.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="Ô∏è-memory-mcp-setup">üõ†Ô∏è Memory MCP Setup<a href="#Ô∏è-memory-mcp-setup" class="hash-link" aria-label="Direct link to üõ†Ô∏è Memory MCP Setup" title="Direct link to üõ†Ô∏è Memory MCP Setup">‚Äã</a></h2>
<p>The MongoDB Memory MCP server provides powerful memory management for conversational agents, allowing them to store and retrieve information across sessions.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-clone-the-memory-mcp-repository">Step 1: Clone the Memory MCP Repository<a href="#step-1-clone-the-memory-mcp-repository" class="hash-link" aria-label="Direct link to Step 1: Clone the Memory MCP Repository" title="Direct link to Step 1: Clone the Memory MCP Repository">‚Äã</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Clone the MongoDB Memory MCP repository</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clone https://github.com/mongodb-partners/memory-mcp.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd memory-mcp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Create necessary environment files from examples</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cp .env.example .env</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-configure-environment-variables">Step 2: Configure Environment Variables<a href="#step-2-configure-environment-variables" class="hash-link" aria-label="Direct link to Step 2: Configure Environment Variables" title="Direct link to Step 2: Configure Environment Variables">‚Äã</a></h3>
<p>Edit the <code>.env</code> file with your MongoDB and AWS credentials:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Core Application Settings</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">APP_NAME=memory-mcp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG=False</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PORT=8080</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Service URLs (default Docker Compose settings)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">LOGGER_SERVICE_URL=http://event-logger:8181</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AI_MEMORY_SERVICE_URL=http://ai-memory:8182</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SEMANTIC_CACHE_SERVICE_URL=http://semantic-cache:8183</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># MongoDB Configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DATABASE_NAME=memory_mcp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">COLLECTION_NAME=memory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># AWS Configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AWS_ACCESS_KEY_ID=your_access_key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AWS_SECRET_ACCESS_KEY=your_secret_key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AWS_REGION=us-east-1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EMBEDDING_MODEL_ID=amazon.titan-embed-text-v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">LLM_MODEL_ID=us.anthropic.claude-3-sonnet-20240229-v1:0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">VECTOR_DIMENSION=1536</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># External APIs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">TAVILY_API_KEY=your_tavily_api_key</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-3-deploy-using-docker-compose">Step 3: Deploy Using Docker Compose<a href="#step-3-deploy-using-docker-compose" class="hash-link" aria-label="Direct link to Step 3: Deploy Using Docker Compose" title="Direct link to Step 3: Deploy Using Docker Compose">‚Äã</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Build and start all services</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker-compose up -d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Verify deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker-compose ps</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker-compose logs memory-mcp</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-integrating-memory-mcp-with-agent-builder">üí° Integrating Memory MCP with Agent Builder<a href="#-integrating-memory-mcp-with-agent-builder" class="hash-link" aria-label="Direct link to üí° Integrating Memory MCP with Agent Builder" title="Direct link to üí° Integrating Memory MCP with Agent Builder">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-update-agent-configuration">Step 1: Update Agent Configuration<a href="#step-1-update-agent-configuration" class="hash-link" aria-label="Direct link to Step 1: Update Agent Configuration" title="Direct link to Step 1: Update Agent Configuration">‚Äã</a></h3>
<p>Your <code>config/agents.yaml</code> file already includes the Memory MCP integration with the <code>ai-memory</code> tool. Here&#x27;s the relevant section highlighting the MCP configuration:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># AI Memory Tool Configuration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">tools</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Other tools configuration...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Memory MCP Integration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ai</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">memory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">tool_type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mcp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">description</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MongoDB MCP Toolkit for advanced data operations</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">servers_config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">&quot;ai-memory&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">url</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;http://localhost:8080/mcp&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">transport</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;streamable_http&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">filter</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> store_memory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> retrieve_memory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> semantic_cache_response</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Agent configuration using the Memory MCP tool</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">agent</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> rag_react_agent</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">agent_type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> react</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">llm</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> claude</span><span class="token punctuation" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">3.5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">tools</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> product_information</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> product_availability</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ai</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">memory  </span><span class="token comment" style="color:#999988;font-style:italic"># AI Memory tool is included in the agent&#x27;s toolset</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">system_prompt_path</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ./prompts/rag_system_prompt.txt</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-understanding-memory-mcp-tools">Step 2: Understanding Memory MCP Tools<a href="#step-2-understanding-memory-mcp-tools" class="hash-link" aria-label="Direct link to Step 2: Understanding Memory MCP Tools" title="Direct link to Step 2: Understanding Memory MCP Tools">‚Äã</a></h3>
<p>The Memory MCP server provides several powerful tools that enhance your pharmaceutical sales rep agent:</p>
<table><thead><tr><th>Tool</th><th>Purpose</th><th>Benefits</th></tr></thead><tbody><tr><td><strong>store_memory</strong></td><td>Save conversation messages for future context</td><td>Maintains conversation history across sessions</td></tr><tr><td><strong>retrieve_memory</strong></td><td>Get relevant context from past conversations</td><td>Provides continuity for pharmaceutical discussions</td></tr><tr><td><strong>semantic_cache_response</strong></td><td>Cache responses for similar queries</td><td>Reduces latency for common drug inquiries</td></tr><tr><td><strong>check_semantic_cache</strong></td><td>Check for existing similar responses</td><td>Ensures consistency in medication information</td></tr><tr><td><strong>hybrid_search</strong></td><td>Advanced document search combining vector and keyword matching</td><td>Improves accuracy of pharmaceutical documentation searches</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-3-testing-memory-enhanced-agent">Step 3: Testing Memory-Enhanced Agent<a href="#step-3-testing-memory-enhanced-agent" class="hash-link" aria-label="Direct link to Step 3: Testing Memory-Enhanced Agent" title="Direct link to Step 3: Testing Memory-Enhanced Agent">‚Äã</a></h3>
<p>Start your agent with the updated configuration:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Start the agent builder service with MCP integration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python -m agent_builder.cli serve \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --config config/agents.yaml \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --host 0.0.0.0 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --port 5000</span><br></span></code></pre></div></div>
<p>Test the memory capabilities with sequential queries:</p>
<ol>
<li>
<p>First query establishes context:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&quot;Tell me about the side effects of Allerway 5&quot;</span><br></span></code></pre></div></div>
</li>
<li>
<p>Follow-up query references previous context:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&quot;Given those side effects, what precautions should be taken?&quot;</span><br></span></code></pre></div></div>
</li>
<li>
<p>The agent should respond using memory from the previous interaction, demonstrating continuity of conversation.</p>
</li>
</ol>
<h1>ÔøΩüöÄ PHASE 3: VALIDATION &amp; EXPANSION</h1>
<blockquote>
<p><strong>Test, validate and expand your pharmaceutical assistant</strong></p>
</blockquote>
<p>After completing the configuration and deployment of your pharmaceutical sales representative agent, it&#x27;s essential to thoroughly test its capabilities and plan for future enhancements.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-agent-testing-strategy">üß™ Agent Testing Strategy<a href="#-agent-testing-strategy" class="hash-link" aria-label="Direct link to üß™ Agent Testing Strategy" title="Direct link to üß™ Agent Testing Strategy">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-knowledge-testing">Step 1: Knowledge Testing<a href="#step-1-knowledge-testing" class="hash-link" aria-label="Direct link to Step 1: Knowledge Testing" title="Direct link to Step 1: Knowledge Testing">‚Äã</a></h3>
<p>Verify the agent can accurately retrieve information from pharmaceutical documentation:</p>
<ol>
<li>
<p><strong>Factual Queries</strong></p>
<ul>
<li>&quot;What is the active ingredient in Allerway 5?&quot;</li>
<li>&quot;What are the contraindications for Cifloc?&quot;</li>
<li>&quot;What is the recommended pediatric dosage for Lenap 10mg?&quot;</li>
</ul>
</li>
<li>
<p><strong>Contextual Understanding</strong></p>
<ul>
<li>&quot;Compare the side effects of Drymed 500 and Cifloc&quot;</li>
<li>&quot;Explain when Alnedra should be taken with food versus without&quot;</li>
<li>&quot;What safety precautions should be taken with Reegen-D 15000?&quot;</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-inventory-intelligence">Step 2: Inventory Intelligence<a href="#step-2-inventory-intelligence" class="hash-link" aria-label="Direct link to Step 2: Inventory Intelligence" title="Direct link to Step 2: Inventory Intelligence">‚Äã</a></h3>
<p>Test the agent&#x27;s ability to access structured inventory data:</p>
<ol>
<li>
<p><strong>Basic Inventory Queries</strong></p>
<ul>
<li>&quot;How many units of Allerway 5 are available across all distribution centers?&quot;</li>
<li>&quot;Is Cifloc currently in stock at the Mumbai distribution center?&quot;</li>
<li>&quot;What&#x27;s our current inventory level for Drymed 500?&quot;</li>
</ul>
</li>
<li>
<p><strong>Complex Business Logic</strong></p>
<ul>
<li>&quot;Which distribution center has the highest stock of Lenap 10mg?&quot;</li>
<li>&quot;Are we below the reorder threshold for Alnedra in any location?&quot;</li>
<li>&quot;What&#x27;s the total inventory value of antihistamine products?&quot;</li>
</ul>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-continuous-improvement">üîÑ Continuous Improvement<a href="#-continuous-improvement" class="hash-link" aria-label="Direct link to üîÑ Continuous Improvement" title="Direct link to üîÑ Continuous Improvement">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="enhancement-roadmap">Enhancement Roadmap<a href="#enhancement-roadmap" class="hash-link" aria-label="Direct link to Enhancement Roadmap" title="Direct link to Enhancement Roadmap">‚Äã</a></h3>
<table><thead><tr><th>Enhancement</th><th>Description</th><th>Priority</th></tr></thead><tbody><tr><td><strong>Image Recognition</strong></td><td>Allow scanning of product packaging</td><td>Medium</td></tr><tr><td><strong>Prescription Analysis</strong></td><td>Extract information from prescription images</td><td>High</td></tr><tr><td><strong>Mobile Integration</strong></td><td>Native mobile app for field representatives</td><td>High</td></tr><tr><td><strong>Offline Mode</strong></td><td>Limited functionality without internet connection</td><td>Medium</td></tr><tr><td><strong>Competitor Analysis</strong></td><td>Add comparative product information</td><td>Low</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="deployment-options">Deployment Options<a href="#deployment-options" class="hash-link" aria-label="Direct link to Deployment Options" title="Direct link to Deployment Options">‚Äã</a></h3>
<ol>
<li>
<p><strong>Cloud Deployment</strong></p>
<ul>
<li>Deploy to MongoDB Atlas App Services</li>
<li>Configure with AWS/Azure/GCP serverless functions</li>
<li>Set up CI/CD pipeline for automated updates</li>
</ul>
</li>
<li>
<p><strong>On-Premises Solutions</strong></p>
<ul>
<li>Kubernetes deployment within corporate infrastructure</li>
<li>Integration with existing enterprise systems</li>
<li>Compliance with internal security policies</li>
</ul>
</li>
<li>
<p><strong>Hybrid Approaches</strong></p>
<ul>
<li>Keep sensitive data on-premises</li>
<li>Use cloud resources for model serving</li>
<li>Implement proper data encryption and access controls</li>
</ul>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-troubleshooting-guide">üîç Troubleshooting Guide<a href="#-troubleshooting-guide" class="hash-link" aria-label="Direct link to üîç Troubleshooting Guide" title="Direct link to üîç Troubleshooting Guide">‚Äã</a></h2>
<p>If you encounter issues during setup or operation, here are some common problems and solutions:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="mongodb-connection-issues">MongoDB Connection Issues<a href="#mongodb-connection-issues" class="hash-link" aria-label="Direct link to MongoDB Connection Issues" title="Direct link to MongoDB Connection Issues">‚Äã</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Error: MongoDB connection failed</span><br></span></code></pre></div></div>
<p><strong>Solutions:</strong></p>
<ul>
<li>Verify your MongoDB Atlas connection string</li>
<li>Check if your IP address is whitelisted in MongoDB Atlas</li>
<li>Ensure your cluster is running and accessible</li>
<li>Test connection with MongoDB Compass</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="embedding-model-errors">Embedding Model Errors<a href="#embedding-model-errors" class="hash-link" aria-label="Direct link to Embedding Model Errors" title="Direct link to Embedding Model Errors">‚Äã</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Error: Failed to generate embeddings</span><br></span></code></pre></div></div>
<p><strong>Solutions:</strong></p>
<ul>
<li>Verify your API keys for VoyageAI or AWS are correct and active</li>
<li>Check that the embedding model specified exists</li>
<li>Ensure your network can reach the embedding service</li>
<li>Try reducing embedding dimensions if you encounter memory issues</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="mcp-server-connection-problems">MCP Server Connection Problems<a href="#mcp-server-connection-problems" class="hash-link" aria-label="Direct link to MCP Server Connection Problems" title="Direct link to MCP Server Connection Problems">‚Äã</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Error: Failed to connect to MCP server</span><br></span></code></pre></div></div>
<p><strong>Solutions:</strong></p>
<ul>
<li>Verify the MCP server is running with <code>docker-compose ps</code></li>
<li>Check if the port is correctly exposed and accessible</li>
<li>Review the MCP server logs with <code>docker-compose logs memory-mcp</code></li>
<li>Ensure your MongoDB configuration for the MCP server is correct</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="agent-execution-errors">Agent Execution Errors<a href="#agent-execution-errors" class="hash-link" aria-label="Direct link to Agent Execution Errors" title="Direct link to Agent Execution Errors">‚Äã</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Error: Tool execution failed</span><br></span></code></pre></div></div>
<p><strong>Solutions:</strong></p>
<ul>
<li>Check if all required environment variables are set</li>
<li>Verify namespace values match your MongoDB collections</li>
<li>Review tool permissions and settings</li>
<li>Test each tool individually to isolate the problem</li>
</ul></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/maap-framework/docs/category/demos"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Demos</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/maap-framework/docs/framework/rag/intro"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Framework Overview</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#-overview" class="table-of-contents__link toc-highlight">üìã Overview</a><ul><li><a href="#-key-capabilities" class="table-of-contents__link toc-highlight">‚úÖ Key Capabilities</a></li></ul></li><li><a href="#Ô∏è-solution-architecture" class="table-of-contents__link toc-highlight">üèóÔ∏è Solution Architecture</a></li><li><a href="#-implementation-process" class="table-of-contents__link toc-highlight">üîÑ Implementation Process</a><ul><li><a href="#-phase-1-data-pipeline" class="table-of-contents__link toc-highlight">üìä Phase 1: Data Pipeline</a></li><li><a href="#-phase-2-agent-creation" class="table-of-contents__link toc-highlight">ü§ñ Phase 2: Agent Creation</a></li><li><a href="#-phase-3-validation" class="table-of-contents__link toc-highlight">üß™ Phase 3: Validation</a></li></ul></li><li><a href="#Ô∏è-prerequisites" class="table-of-contents__link toc-highlight">‚öôÔ∏è Prerequisites</a></li><li><a href="#Ô∏è-setup-process" class="table-of-contents__link toc-highlight">üõ†Ô∏è Setup Process</a><ul><li><a href="#step-1-environment-configuration" class="table-of-contents__link toc-highlight">Step 1: Environment Configuration</a></li><li><a href="#step-2-configuration-file-setup" class="table-of-contents__link toc-highlight">Step 2: Configuration File Setup</a></li><li><a href="#step-3-document-collection" class="table-of-contents__link toc-highlight">Step 3: Document Collection</a></li></ul></li><li><a href="#-data-processing-workflow" class="table-of-contents__link toc-highlight">üîÑ Data Processing Workflow</a><ul><li><a href="#step-4-document-processing" class="table-of-contents__link toc-highlight">Step 4: Document Processing</a></li></ul></li><li><a href="#-verification-process" class="table-of-contents__link toc-highlight">üîç Verification Process</a><ul><li><a href="#step-5-data-validation" class="table-of-contents__link toc-highlight">Step 5: Data Validation</a></li></ul></li><li><a href="#Ô∏è-mongodb-inventory-integration" class="table-of-contents__link toc-highlight">üóÉÔ∏è MongoDB Inventory Integration</a><ul><li><a href="#step-1-prepare-structured-data-schema" class="table-of-contents__link toc-highlight">Step 1: Prepare Structured Data Schema</a></li><li><a href="#step-2-run-data-ingestion-script" class="table-of-contents__link toc-highlight">Step 2: Run Data Ingestion Script</a></li><li><a href="#step-3-script-functionality" class="table-of-contents__link toc-highlight">Step 3: Script Functionality</a></li><li><a href="#step-4-data-model-overview" class="table-of-contents__link toc-highlight">Step 4: Data Model Overview</a></li><li><a href="#step-5-verify-data-ingestion" class="table-of-contents__link toc-highlight">Step 5: Verify Data Ingestion</a></li></ul></li><li><a href="#-dual-data-advantage" class="table-of-contents__link toc-highlight">üîÑ Dual-Data Advantage</a></li><li><a href="#-installing-maap-agent-builder" class="table-of-contents__link toc-highlight">üîß Installing MAAP Agent Builder</a><ul><li><a href="#required-dependencies" class="table-of-contents__link toc-highlight">Required Dependencies</a></li></ul></li><li><a href="#Ô∏è-agent-configuration" class="table-of-contents__link toc-highlight">üõ†Ô∏è Agent Configuration</a><ul><li><a href="#step-1-yaml-configuration" class="table-of-contents__link toc-highlight">Step 1: YAML Configuration</a></li><li><a href="#step-2-agent-deployment" class="table-of-contents__link toc-highlight">Step 2: Agent Deployment</a></li><li><a href="#step-3-create-system-prompt" class="table-of-contents__link toc-highlight">Step 3: Create System Prompt</a></li><li><a href="#step-4-agent-validation" class="table-of-contents__link toc-highlight">Step 4: Agent Validation</a></li></ul></li><li><a href="#-example-prompts-for-testing" class="table-of-contents__link toc-highlight">üìù Example Prompts for Testing</a></li><li><a href="#Ô∏è-memory-mcp-setup" class="table-of-contents__link toc-highlight">üõ†Ô∏è Memory MCP Setup</a><ul><li><a href="#step-1-clone-the-memory-mcp-repository" class="table-of-contents__link toc-highlight">Step 1: Clone the Memory MCP Repository</a></li><li><a href="#step-2-configure-environment-variables" class="table-of-contents__link toc-highlight">Step 2: Configure Environment Variables</a></li><li><a href="#step-3-deploy-using-docker-compose" class="table-of-contents__link toc-highlight">Step 3: Deploy Using Docker Compose</a></li></ul></li><li><a href="#-integrating-memory-mcp-with-agent-builder" class="table-of-contents__link toc-highlight">üí° Integrating Memory MCP with Agent Builder</a><ul><li><a href="#step-1-update-agent-configuration" class="table-of-contents__link toc-highlight">Step 1: Update Agent Configuration</a></li><li><a href="#step-2-understanding-memory-mcp-tools" class="table-of-contents__link toc-highlight">Step 2: Understanding Memory MCP Tools</a></li><li><a href="#step-3-testing-memory-enhanced-agent" class="table-of-contents__link toc-highlight">Step 3: Testing Memory-Enhanced Agent</a></li></ul></li><li><a href="#-agent-testing-strategy" class="table-of-contents__link toc-highlight">üß™ Agent Testing Strategy</a><ul><li><a href="#step-1-knowledge-testing" class="table-of-contents__link toc-highlight">Step 1: Knowledge Testing</a></li><li><a href="#step-2-inventory-intelligence" class="table-of-contents__link toc-highlight">Step 2: Inventory Intelligence</a></li></ul></li><li><a href="#-continuous-improvement" class="table-of-contents__link toc-highlight">üîÑ Continuous Improvement</a><ul><li><a href="#enhancement-roadmap" class="table-of-contents__link toc-highlight">Enhancement Roadmap</a></li><li><a href="#deployment-options" class="table-of-contents__link toc-highlight">Deployment Options</a></li></ul></li><li><a href="#-troubleshooting-guide" class="table-of-contents__link toc-highlight">üîç Troubleshooting Guide</a><ul><li><a href="#mongodb-connection-issues" class="table-of-contents__link toc-highlight">MongoDB Connection Issues</a></li><li><a href="#embedding-model-errors" class="table-of-contents__link toc-highlight">Embedding Model Errors</a></li><li><a href="#mcp-server-connection-problems" class="table-of-contents__link toc-highlight">MCP Server Connection Problems</a></li><li><a href="#agent-execution-errors" class="table-of-contents__link toc-highlight">Agent Execution Errors</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">¬© 2025 MongoDB, Inc.</div></div></div></footer></div>
</body>
</html>