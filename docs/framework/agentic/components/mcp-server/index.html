<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-framework/agentic/components/mcp-server" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">MCP Server | MAAP</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://maap-framework.github.io/maap-framework/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://maap-framework.github.io/maap-framework/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://maap-framework.github.io/maap-framework/docs/framework/agentic/components/mcp-server"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="MCP Server | MAAP"><meta data-rh="true" name="description" content="Memory-MCP is a MongoDB-based Model Context Protocol (MCP) server that provides intelligent memory management, semantic caching, and hybrid search capabilities for AI applications. The system integrates with AWS Bedrock for embedding generation, MongoDB for data storage, and Tavily for web search functionality."><meta data-rh="true" property="og:description" content="Memory-MCP is a MongoDB-based Model Context Protocol (MCP) server that provides intelligent memory management, semantic caching, and hybrid search capabilities for AI applications. The system integrates with AWS Bedrock for embedding generation, MongoDB for data storage, and Tavily for web search functionality."><link data-rh="true" rel="icon" href="/maap-framework/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://maap-framework.github.io/maap-framework/docs/framework/agentic/components/mcp-server"><link data-rh="true" rel="alternate" href="https://maap-framework.github.io/maap-framework/docs/framework/agentic/components/mcp-server" hreflang="en"><link data-rh="true" rel="alternate" href="https://maap-framework.github.io/maap-framework/docs/framework/agentic/components/mcp-server" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Components","item":"https://maap-framework.github.io/maap-framework/docs/category/components"},{"@type":"ListItem","position":2,"name":"MCP Server","item":"https://maap-framework.github.io/maap-framework/docs/framework/agentic/components/mcp-server"}]}</script><link rel="stylesheet" href="/maap-framework/assets/css/styles.a82a49b6.css">
<script src="/maap-framework/assets/js/runtime~main.14208abe.js" defer="defer"></script>
<script src="/maap-framework/assets/js/main.0aa90fea.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/maap-framework/"><div class="navbar__logo"><img src="/maap-framework/img/logo.svg" alt="MAAP Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/maap-framework/img/logo.svg" alt="MAAP Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">MAAP</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/maap-framework/docs/framework/intro">Frameworks</a><a class="navbar__item navbar__link" href="/maap-framework/docs/category/-quick-starts">Quick starts</a><a class="navbar__item navbar__link" href="/maap-framework/docs/category/-blogs">Partner Blogs</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/mongodb-partners/maap-framework/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/maap-framework/docs/framework/intro">MAAP Frameworks</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/maap-framework/docs/framework/agentic/intro">ðŸ¤– Agentic Framework</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/maap-framework/docs/framework/agentic/intro">Framework Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/maap-framework/docs/category/components">Components</a><button aria-label="Collapse sidebar category &#x27;Components&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/maap-framework/docs/framework/agentic/components/agent-builder">Agent Builder</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/maap-framework/docs/framework/agentic/components/data-loader">Data Loader</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/maap-framework/docs/framework/agentic/components/mcp-server">MCP Server</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/maap-framework/docs/category/demos">Demos</a><button aria-label="Expand sidebar category &#x27;Demos&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/maap-framework/docs/framework/rag/intro">ðŸ§  RAG Framework</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/maap-framework/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">ðŸ¤– Agentic Framework</span></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/maap-framework/docs/category/components"><span>Components</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">MCP Server</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>MCP Server</h1></header>
<p>Memory-MCP is a MongoDB-based Model Context Protocol (MCP) server that provides intelligent memory management, semantic caching, and hybrid search capabilities for AI applications. The system integrates with AWS Bedrock for embedding generation, MongoDB for data storage, and Tavily for web search functionality.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="key-features">Key Features<a href="#key-features" class="hash-link" aria-label="Direct link to Key Features" title="Direct link to Key Features">â€‹</a></h3>
<ul>
<li><strong>Hybrid Search</strong>: Combines vector similarity and keyword matching for comprehensive search results</li>
<li><strong>AI Memory Management</strong>: Stores and retrieves conversational context with intelligent summarization</li>
<li><strong>Semantic Caching</strong>: Caches AI responses for similar queries to improve performance</li>
<li><strong>Web Search Integration</strong>: External web search capabilities through Tavily API</li>
<li><strong>Multi-Service Architecture</strong>: Modular design with separate services for memory, cache, and logging</li>
<li><strong>Containerized Deployment</strong>: Docker-based deployment with orchestration support</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="target-audience">Target Audience<a href="#target-audience" class="hash-link" aria-label="Direct link to Target Audience" title="Direct link to Target Audience">â€‹</a></h3>
<ul>
<li>AI application developers requiring persistent memory capabilities</li>
<li>Organizations building conversational AI systems</li>
<li>Developers implementing semantic search and caching solutions</li>
<li>Teams working with MongoDB and AWS Bedrock integration</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-system-architecture">2. System Architecture<a href="#2-system-architecture" class="hash-link" aria-label="Direct link to 2. System Architecture" title="Direct link to 2. System Architecture">â€‹</a></h2>
<p>The Memory-MCP system follows a microservices architecture with the main MCP server coordinating multiple specialized services:</p>
<!-- -->
<p>The architecture supports horizontal scaling through Docker containers and network isolation through a dedicated bridge network. The system processes requests through the FastMCP framework, which handles tool registration and HTTP transport.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-components">3. Components<a href="#3-components" class="hash-link" aria-label="Direct link to 3. Components" title="Direct link to 3. Components">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="31-memory-mcp-server-main-component">3.1 Memory-MCP Server (Main Component)<a href="#31-memory-mcp-server-main-component" class="hash-link" aria-label="Direct link to 3.1 Memory-MCP Server (Main Component)" title="Direct link to 3.1 Memory-MCP Server (Main Component)">â€‹</a></h3>
<p><strong>Purpose</strong>: Central orchestration server that exposes MCP tools and coordinates with other services.</p>
<p><strong>Technologies Used</strong>:</p>
<ul>
<li>FastMCP framework for MCP protocol implementation</li>
<li>Docker containerization with Python 3.12</li>
<li>uv for dependency management</li>
<li>HTTPx for asynchronous HTTP client operations</li>
</ul>
<p><strong>Core Functionality</strong>:</p>
<ul>
<li>Tool registration and management</li>
<li>Request routing to appropriate services</li>
<li>Response aggregation and formatting</li>
<li>Error handling and logging coordination</li>
</ul>
<p><strong>Interactions</strong>: Communicates with all other components through HTTP APIs and database connections.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="32-ai-memory-service">3.2 AI Memory Service<a href="#32-ai-memory-service" class="hash-link" aria-label="Direct link to 3.2 AI Memory Service" title="Direct link to 3.2 AI Memory Service">â€‹</a></h3>
<p><strong>Purpose</strong>: Manages conversational memory storage, retrieval, and context summarization.</p>
<p><strong>Key Features</strong>:</p>
<ul>
<li>Conversation history management</li>
<li>Semantic similarity search for relevant memories</li>
<li>Context summarization using AI models</li>
<li>User-specific memory isolation</li>
</ul>
<p><strong>Integration Points</strong>:</p>
<ul>
<li>MongoDB for persistent storage</li>
<li>AWS Bedrock for embedding generation</li>
<li>Event logging for audit trails</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="33-semantic-cache-service">3.3 Semantic Cache Service<a href="#33-semantic-cache-service" class="hash-link" aria-label="Direct link to 3.3 Semantic Cache Service" title="Direct link to 3.3 Semantic Cache Service">â€‹</a></h3>
<p><strong>Purpose</strong>: Implements intelligent caching based on semantic similarity rather than exact matches.</p>
<p><strong>Key Features</strong>:</p>
<ul>
<li>Query similarity detection</li>
<li>Response caching with TTL management</li>
<li>Cache hit optimization</li>
<li>User-specific cache namespacing</li>
</ul>
<p><strong>Performance Benefits</strong>:</p>
<ul>
<li>Reduced API calls to expensive AI services</li>
<li>Improved response times for similar queries</li>
<li>Cost optimization through intelligent caching</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="34-event-logger-service">3.4 Event Logger Service<a href="#34-event-logger-service" class="hash-link" aria-label="Direct link to 3.4 Event Logger Service" title="Direct link to 3.4 Event Logger Service">â€‹</a></h3>
<p><strong>Purpose</strong>: Centralized logging and monitoring for all system events.</p>
<p><strong>Capabilities</strong>:</p>
<ul>
<li>Structured logging with metadata</li>
<li>Async and sync logging support</li>
<li>Log retention management</li>
<li>Service health monitoring</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="35-mongodb-service-integration">3.5 MongoDB Service Integration<a href="#35-mongodb-service-integration" class="hash-link" aria-label="Direct link to 3.5 MongoDB Service Integration" title="Direct link to 3.5 MongoDB Service Integration">â€‹</a></h3>
<p><strong>Purpose</strong>: Provides database connectivity and operations for all data persistence needs.</p>
<p><strong>Features</strong>:</p>
<ul>
<li>Connection pooling and management</li>
<li>Aggregation pipeline support</li>
<li>Vector search capabilities</li>
<li>Full-text search integration</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="36-aws-bedrock-integration">3.6 AWS Bedrock Integration<a href="#36-aws-bedrock-integration" class="hash-link" aria-label="Direct link to 3.6 AWS Bedrock Integration" title="Direct link to 3.6 AWS Bedrock Integration">â€‹</a></h3>
<p><strong>Purpose</strong>: Handles AI model interactions for embeddings and text generation.</p>
<p><strong>Models Supported</strong>:</p>
<ul>
<li>Amazon Titan Embed Text v1 for embeddings</li>
<li>Anthropic Claude for text generation</li>
<li>Configurable model selection</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="37-external-services">3.7 External Services<a href="#37-external-services" class="hash-link" aria-label="Direct link to 3.7 External Services" title="Direct link to 3.7 External Services">â€‹</a></h3>
<p><strong>Tavily Web Search</strong>: Provides external web search capabilities with content extraction and summarization.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-installation--deployment">4. Installation &amp; Deployment<a href="#4-installation--deployment" class="hash-link" aria-label="Direct link to 4. Installation &amp; Deployment" title="Direct link to 4. Installation &amp; Deployment">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="41-prerequisites">4.1 Prerequisites<a href="#41-prerequisites" class="hash-link" aria-label="Direct link to 4.1 Prerequisites" title="Direct link to 4.1 Prerequisites">â€‹</a></h3>
<p><strong>Software Requirements</strong>:</p>
<ul>
<li>Docker and Docker Compose</li>
<li>Python 3.12+ (for local development)</li>
<li>MongoDB Atlas account or local MongoDB instance</li>
<li>AWS account with Bedrock access</li>
<li>Tavily API key for web search</li>
</ul>
<p><strong>Hardware Requirements</strong>:</p>
<ul>
<li>Minimum 2GB RAM</li>
<li>1GB available disk space</li>
<li>Network connectivity for external services</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="42-environment-setup">4.2 Environment Setup<a href="#42-environment-setup" class="hash-link" aria-label="Direct link to 4.2 Environment Setup" title="Direct link to 4.2 Environment Setup">â€‹</a></h3>
<p>Create the required environment files:</p>
<p>Copy <code>.env.&lt;service_name&gt;.example</code> to <code>.env.&lt;service_name&gt;</code> file.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="43-docker-deployment">4.3 Docker Deployment<a href="#43-docker-deployment" class="hash-link" aria-label="Direct link to 4.3 Docker Deployment" title="Direct link to 4.3 Docker Deployment">â€‹</a></h3>
<p><strong>Using Docker Compose</strong> (Recommended):</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Clone and navigate to project directory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clone &lt;repository-url&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd memory-mcp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Build and start all services</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker-compose up -d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Verify deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker-compose ps</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker-compose logs memory-mcp</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="44-local-development-setup">4.4 Local Development Setup<a href="#44-local-development-setup" class="hash-link" aria-label="Direct link to 4.4 Local Development Setup" title="Direct link to 4.4 Local Development Setup">â€‹</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Install uv package manager</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -LsSf https://astral.sh/uv/install.sh | sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Sync dependencies</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">uv sync</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Run development server</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">uv run src/server.py</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="5-configuration">5. Configuration<a href="#5-configuration" class="hash-link" aria-label="Direct link to 5. Configuration" title="Direct link to 5. Configuration">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="51-environment-variables">5.1 Environment Variables<a href="#51-environment-variables" class="hash-link" aria-label="Direct link to 5.1 Environment Variables" title="Direct link to 5.1 Environment Variables">â€‹</a></h3>
<p><strong>Core Application Settings</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">APP_NAME=memory-mcp                                    # Application identifier</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DEBUG=False                                            # Debug mode toggle</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PORT=8080                                             # Server port</span><br></span></code></pre></div></div>
<p><strong>Service URLs</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">LOGGER_SERVICE_URL=http://event-logger:8181           # Event logging service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AI_MEMORY_SERVICE_URL=http://ai-memory:8182          # Memory management service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SEMANTIC_CACHE_SERVICE_URL=http://semantic-cache:8183 # Semantic caching service</span><br></span></code></pre></div></div>
<p><strong>AWS Configuration</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">AWS_ACCESS_KEY_ID=your_access_key                     # AWS access credentials</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AWS_SECRET_ACCESS_KEY=your_secret_key                 # AWS secret key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AWS_REGION=us-east-1                                  # AWS region</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EMBEDDING_MODEL_ID=amazon.titan-embed-text-v1        # Bedrock embedding model</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">LLM_MODEL_ID=us.anthropic.claude-sonnet-4-20250514-v1:0 # Language model</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">VECTOR_DIMENSION=1536                                 # Embedding vector dimension</span><br></span></code></pre></div></div>
<p><strong>External APIs</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">TAVILY_API_KEY=your_tavily_api_key                    # Web search API key</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="52-mongodb-configuration">5.2 MongoDB Configuration<a href="#52-mongodb-configuration" class="hash-link" aria-label="Direct link to 5.2 MongoDB Configuration" title="Direct link to 5.2 MongoDB Configuration">â€‹</a></h3>
<p><strong>Connection String Format</strong>:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mongodb+srv://username:password@cluster.mongodb.net/database_name</span><br></span></code></pre></div></div>
<p><strong>Required Collections</strong>:</p>
<ul>
<li><code>documents</code>: For hybrid search functionality</li>
<li><code>memory</code>: For conversational memory storage</li>
<li><code>cache</code>: For semantic caching</li>
</ul>
<p><strong>Index Requirements</strong>:</p>
<ul>
<li>Vector search index: <code>documents_vector_search_index</code> on <code>embedding</code> field</li>
<li>Text search index: <code>text</code> for full-text search capabilities</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="53-docker-compose-configuration">5.3 Docker Compose Configuration<a href="#53-docker-compose-configuration" class="hash-link" aria-label="Direct link to 5.3 Docker Compose Configuration" title="Direct link to 5.3 Docker Compose Configuration">â€‹</a></h3>
<p>The <code>docker-compose.yml</code> file orchestrates multiple services:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">services</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">memory-mcp</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">build</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;8080:8080&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">depends_on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> event</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">logger</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ai</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">memory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> semantic</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">cache</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">networks</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> mcp</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">network</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">networks</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">mcp-network</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">driver</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> bridge</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="6-usage">6. Usage<a href="#6-usage" class="hash-link" aria-label="Direct link to 6. Usage" title="Direct link to 6. Usage">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="61-server-startup">6.1 Server Startup<a href="#61-server-startup" class="hash-link" aria-label="Direct link to 6.1 Server Startup" title="Direct link to 6.1 Server Startup">â€‹</a></h3>
<p>Start the MCP server using Docker Compose:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker-compose up -d</span><br></span></code></pre></div></div>
<p>The server will be available at <code>http://localhost:8080/mcp</code> for MCP protocol connections.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="62-client-connection">6.2 Client Connection<a href="#62-client-connection" class="hash-link" aria-label="Direct link to 6.2 Client Connection" title="Direct link to 6.2 Client Connection">â€‹</a></h3>
<p>Connect to the MCP server using the FastMCP client:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> fastmcp </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Client</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> asyncio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">connect_to_server</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> Client</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;http://localhost:8080/mcp&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> client</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># List available tools</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        tools </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">list_tools</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;Available tools: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">[</span><span class="token string-interpolation interpolation">tool</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">name </span><span class="token string-interpolation interpolation keyword" style="color:#00009f">for</span><span class="token string-interpolation interpolation"> tool </span><span class="token string-interpolation interpolation keyword" style="color:#00009f">in</span><span class="token string-interpolation interpolation"> tools</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">]</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Use a tool</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">call_tool</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;hybrid_search&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;connection_string&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;mongodb+srv://...&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;database_name&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;your_database&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;collection_name&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;documents&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;query&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;your search query&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;user_id&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;user@example.com&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">asyncio</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">connect_to_server</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="63-common-usage-patterns">6.3 Common Usage Patterns<a href="#63-common-usage-patterns" class="hash-link" aria-label="Direct link to 6.3 Common Usage Patterns" title="Direct link to 6.3 Common Usage Patterns">â€‹</a></h3>
<p><strong>Memory Management Workflow</strong>:</p>
<ol>
<li>Store conversation messages using <code>store_memory</code></li>
<li>Retrieve relevant context using <code>retrieve_memory</code></li>
<li>Cache AI responses using <code>semantic_cache_response</code></li>
<li>Check cache before generating new responses using <code>check_semantic_cache</code></li>
</ol>
<p><strong>Search Workflow</strong>:</p>
<ol>
<li>Use <code>hybrid_search</code> for database queries combining semantic and keyword search</li>
<li>Use <code>search_web</code> for external information gathering</li>
<li>Weight search results based on use case requirements</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="7-api-reference">7. API Reference<a href="#7-api-reference" class="hash-link" aria-label="Direct link to 7. API Reference" title="Direct link to 7. API Reference">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="71-memory-tools">7.1 Memory Tools<a href="#71-memory-tools" class="hash-link" aria-label="Direct link to 7.1 Memory Tools" title="Direct link to 7.1 Memory Tools">â€‹</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="store_memory">store_memory<a href="#store_memory" class="hash-link" aria-label="Direct link to store_memory" title="Direct link to store_memory">â€‹</a></h4>
<p><strong>Description</strong>: Store a message in AI memory system.</p>
<p><strong>Parameters</strong>:</p>
<ul>
<li><code>conversation_id</code> (string): Unique conversation identifier</li>
<li><code>text</code> (string): Message content to store</li>
<li><code>message_type</code> (string): Type of message (&quot;human&quot; or &quot;ai&quot;)</li>
<li><code>user_id</code> (string): User identifier for isolation</li>
<li><code>timestamp</code> (string, optional): ISO format timestamp</li>
</ul>
<p><strong>Returns</strong>: Dictionary with storage confirmation and metadata.</p>
<p><strong>Example</strong>:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">call_tool</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;store_memory&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;conversation_id&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;conv_123&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;text&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;I&#x27;m interested in F1 racing at Marina Bay.&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;message_type&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;human&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;user_id&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;user@example.com&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;timestamp&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2025-01-09T10:30:00Z&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="retrieve_memory">retrieve_memory<a href="#retrieve_memory" class="hash-link" aria-label="Direct link to retrieve_memory" title="Direct link to retrieve_memory">â€‹</a></h4>
<p><strong>Description</strong>: Get relevant AI memory with context and summary.</p>
<p><strong>Parameters</strong>:</p>
<ul>
<li><code>user_id</code> (string): User identifier</li>
<li><code>text</code> (string): Query text for memory retrieval</li>
</ul>
<p><strong>Returns</strong>: Dictionary containing:</p>
<ul>
<li><code>related_conversation</code>: Relevant conversation history</li>
<li><code>conversation_summary</code>: AI-generated summary of context</li>
<li><code>similar_memories</code>: Related memories from user&#x27;s history</li>
</ul>
<p><strong>Example</strong>:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">call_tool</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;retrieve_memory&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;user_id&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;user@example.com&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;text&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Tell me about F1 racing experiences&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="72-cache-tools">7.2 Cache Tools<a href="#72-cache-tools" class="hash-link" aria-label="Direct link to 7.2 Cache Tools" title="Direct link to 7.2 Cache Tools">â€‹</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="semantic_cache_response">semantic_cache_response<a href="#semantic_cache_response" class="hash-link" aria-label="Direct link to semantic_cache_response" title="Direct link to semantic_cache_response">â€‹</a></h4>
<p><strong>Description</strong>: Cache AI response for similar queries.</p>
<p><strong>Parameters</strong>:</p>
<ul>
<li><code>user_id</code> (string): User identifier</li>
<li><code>query</code> (string): Original query text</li>
<li><code>response</code> (string): AI response to cache</li>
<li><code>timestamp</code> (string, optional): ISO format timestamp</li>
</ul>
<p><strong>Returns</strong>: Dictionary with cache storage confirmation.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="check_semantic_cache">check_semantic_cache<a href="#check_semantic_cache" class="hash-link" aria-label="Direct link to check_semantic_cache" title="Direct link to check_semantic_cache">â€‹</a></h4>
<p><strong>Description</strong>: Get cached response for similar query.</p>
<p><strong>Parameters</strong>:</p>
<ul>
<li><code>user_id</code> (string): User identifier</li>
<li><code>query</code> (string): Query text to search in cache</li>
</ul>
<p><strong>Returns</strong>: Dictionary with cached response if found, empty if no match.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="73-search-tools">7.3 Search Tools<a href="#73-search-tools" class="hash-link" aria-label="Direct link to 7.3 Search Tools" title="Direct link to 7.3 Search Tools">â€‹</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="hybrid_search">hybrid_search<a href="#hybrid_search" class="hash-link" aria-label="Direct link to hybrid_search" title="Direct link to hybrid_search">â€‹</a></h4>
<p><strong>Description</strong>: Advanced hybrid search combining vector similarity and keyword matching.</p>
<p><strong>Parameters</strong>:</p>
<ul>
<li><code>connection_string</code> (string): MongoDB connection string</li>
<li><code>database_name</code> (string): Database name</li>
<li><code>collection_name</code> (string): Collection name</li>
<li><code>fulltext_search_field</code> (string): Field for text search</li>
<li><code>vector_search_index_name</code> (string): Vector search index name</li>
<li><code>vector_search_field</code> (string): Field containing embeddings</li>
<li><code>query</code> (string): Search query</li>
<li><code>user_id</code> (string): User identifier for filtering</li>
<li><code>weight</code> (float, default: 0.5): Balance between vector (1.0) and text (0.0) search</li>
<li><code>limit</code> (int, default: 10): Maximum number of results</li>
</ul>
<p><strong>Returns</strong>: Dictionary with <code>results</code> array containing scored documents.</p>
<p><strong>Example</strong>:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">call_tool</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;hybrid_search&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;connection_string&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;mongodb+srv://...&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;database_name&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;my_database&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;collection_name&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;documents&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;fulltext_search_field&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;text&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;vector_search_index_name&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;documents_vector_search_index&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;vector_search_field&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;embedding&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;query&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Marina Bay F1 racing experience&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;user_id&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;user@example.com&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;weight&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.7</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;limit&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="search_web">search_web<a href="#search_web" class="hash-link" aria-label="Direct link to search_web" title="Direct link to search_web">â€‹</a></h4>
<p><strong>Description</strong>: Search web using Tavily API.</p>
<p><strong>Parameters</strong>:</p>
<ul>
<li><code>query</code> (string): Web search query</li>
</ul>
<p><strong>Returns</strong>: List of strings containing web search results.</p>
<p><strong>Example</strong>:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">call_tool</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;search_web&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;query&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Marina Bay Sands F1 circuit Singapore&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="8-security-considerations">8. Security Considerations<a href="#8-security-considerations" class="hash-link" aria-label="Direct link to 8. Security Considerations" title="Direct link to 8. Security Considerations">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="81-authentication-and-authorization">8.1 Authentication and Authorization<a href="#81-authentication-and-authorization" class="hash-link" aria-label="Direct link to 8.1 Authentication and Authorization" title="Direct link to 8.1 Authentication and Authorization">â€‹</a></h3>
<p><strong>User Isolation</strong>: The system implements user-based isolation through <code>user_id</code> parameters, ensuring users can only access their own data.</p>
<p><strong>API Key Management</strong>:</p>
<ul>
<li>Store AWS credentials securely using environment variables</li>
<li>Rotate API keys regularly</li>
<li>Use IAM roles for production deployments when possible</li>
</ul>
<p><strong>Network Security</strong>:</p>
<ul>
<li>Use Docker networks to isolate services</li>
<li>Implement HTTPS for production deployments</li>
<li>Restrict database access to specific IP ranges</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="82-data-encryption">8.2 Data Encryption<a href="#82-data-encryption" class="hash-link" aria-label="Direct link to 8.2 Data Encryption" title="Direct link to 8.2 Data Encryption">â€‹</a></h3>
<p><strong>At Rest</strong>:</p>
<ul>
<li>MongoDB Atlas provides encryption at rest</li>
<li>Use encrypted storage volumes for Docker containers</li>
</ul>
<p><strong>In Transit</strong>:</p>
<ul>
<li>Use TLS for all external API communications</li>
<li>Implement HTTPS for the MCP server endpoint</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="83-input-validation">8.3 Input Validation<a href="#83-input-validation" class="hash-link" aria-label="Direct link to 8.3 Input Validation" title="Direct link to 8.3 Input Validation">â€‹</a></h3>
<p>The system implements comprehensive input validation:</p>
<ul>
<li>User ID format validation</li>
<li>Message type validation (human/ai only)</li>
<li>Query parameter sanitization</li>
<li>MongoDB injection prevention</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="84-known-vulnerabilities-and-mitigations">8.4 Known Vulnerabilities and Mitigations<a href="#84-known-vulnerabilities-and-mitigations" class="hash-link" aria-label="Direct link to 8.4 Known Vulnerabilities and Mitigations" title="Direct link to 8.4 Known Vulnerabilities and Mitigations">â€‹</a></h3>
<p><strong>Dependency Management</strong>:</p>
<ul>
<li>Regular updates of Python dependencies</li>
<li>Vulnerability scanning with <code>pip audit</code></li>
<li>Use of pinned dependency versions in requirements.txt</li>
</ul>
<p><strong>Database Security</strong>:</p>
<ul>
<li>Use of prepared statements and parameterized queries</li>
<li>MongoDB connection string encryption</li>
<li>Regular security updates for MongoDB driver</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="9-monitoring--logging">9. Monitoring &amp; Logging<a href="#9-monitoring--logging" class="hash-link" aria-label="Direct link to 9. Monitoring &amp; Logging" title="Direct link to 9. Monitoring &amp; Logging">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="91-key-metrics">9.1 Key Metrics<a href="#91-key-metrics" class="hash-link" aria-label="Direct link to 9.1 Key Metrics" title="Direct link to 9.1 Key Metrics">â€‹</a></h3>
<p><strong>Performance Metrics</strong>:</p>
<ul>
<li>Tool execution time</li>
<li>Database query response time</li>
<li>API call success rates</li>
<li>Memory usage and cache hit rates</li>
</ul>
<p><strong>Business Metrics</strong>:</p>
<ul>
<li>Number of conversations stored</li>
<li>Search query volume</li>
<li>Cache effectiveness</li>
<li>User activity patterns</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="92-event-logger-service">9.2 Event Logger Service<a href="#92-event-logger-service" class="hash-link" aria-label="Direct link to 9.2 Event Logger Service" title="Direct link to 9.2 Event Logger Service">â€‹</a></h3>
<p>The integrated event logger provides:</p>
<ul>
<li>Structured logging with metadata</li>
<li>Real-time log streaming</li>
<li>Log retention management</li>
<li>Service health monitoring</li>
</ul>
<p><strong>Log Levels</strong>:</p>
<ul>
<li><code>DEBUG</code>: Detailed execution information</li>
<li><code>INFO</code>: General operational events</li>
<li><code>WARNING</code>: Potential issues</li>
<li><code>ERROR</code>: Error conditions requiring attention</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="93-log-management">9.3 Log Management<a href="#93-log-management" class="hash-link" aria-label="Direct link to 9.3 Log Management" title="Direct link to 9.3 Log Management">â€‹</a></h3>
<p><strong>Local Logging</strong>:</p>
<ul>
<li>File-based logging in the <code>logs/</code> directory</li>
<li>Automatic log rotation and cleanup</li>
<li>Console output for development</li>
</ul>
<p><strong>Remote Logging</strong>:</p>
<ul>
<li>Centralized logging through event logger service</li>
<li>Structured JSON format for log analysis</li>
<li>Async logging to prevent performance impact</li>
</ul>
<p><strong>Log Analysis</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># View recent logs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker-compose logs -f memory-mcp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Check specific service logs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker-compose logs ai-memory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Monitor real-time events</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tail -f logs/memory-mcp.log</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="10-troubleshooting">10. Troubleshooting<a href="#10-troubleshooting" class="hash-link" aria-label="Direct link to 10. Troubleshooting" title="Direct link to 10. Troubleshooting">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="101-common-issues">10.1 Common Issues<a href="#101-common-issues" class="hash-link" aria-label="Direct link to 10.1 Common Issues" title="Direct link to 10.1 Common Issues">â€‹</a></h3>
<p><strong>Connection Errors</strong>:</p>
<p><em>Issue</em>: <code>Failed to connect to MongoDB</code></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Solution:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Verify MongoDB connection string format</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Check network connectivity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Ensure client IP is whitelisted in MongoDB Atlas</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Validate credentials</span><br></span></code></pre></div></div>
<p><em>Issue</em>: <code>Service unavailable</code> for dependent services</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Solution:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Check Docker container status: docker-compose ps</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Restart services: docker-compose restart</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Verify network configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Check service health endpoints</span><br></span></code></pre></div></div>
<p><strong>Tool Execution Errors</strong>:</p>
<p><em>Issue</em>: <code>Invalid user_id</code> error</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Solution:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Ensure user_id is provided and non-null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Use valid email format for user identification</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Check input validation in client code</span><br></span></code></pre></div></div>
<p><em>Issue</em>: <code>Invalid message_type</code> error</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Solution:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Use only &quot;human&quot; or &quot;ai&quot; for message_type parameter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Check case sensitivity in parameter values</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Validate input before tool calls</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="102-debugging-steps">10.2 Debugging Steps<a href="#102-debugging-steps" class="hash-link" aria-label="Direct link to 10.2 Debugging Steps" title="Direct link to 10.2 Debugging Steps">â€‹</a></h3>
<p><strong>1. Check Service Health</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Verify all containers are running</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker-compose ps</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Check service logs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker-compose logs memory-mcp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker-compose logs ai-memory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker-compose logs semantic-cache</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker-compose logs event-logger</span><br></span></code></pre></div></div>
<p><strong>2. Test Individual Components</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Test MCP server endpoint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl http://localhost:8080/health</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Test database connectivity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python -c &quot;import pymongo; client = pymongo.MongoClient(&#x27;your_connection_string&#x27;); print(client.admin.command(&#x27;ping&#x27;))&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Test AWS Bedrock access</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aws bedrock-runtime invoke-model --region us-east-1 --model-id amazon.titan-embed-text-v1 --body &#x27;{&quot;inputText&quot;:&quot;test&quot;}&#x27; response.json</span><br></span></code></pre></div></div>
<p><strong>3. Validate Configuration</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Check environment variables</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker-compose exec memory-mcp env | grep -E &quot;(AWS|TAVILY|MONGO)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Verify network connectivity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker-compose exec memory-mcp ping ai-memory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker-compose exec memory-mcp ping semantic-cache</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="103-performance-issues">10.3 Performance Issues<a href="#103-performance-issues" class="hash-link" aria-label="Direct link to 10.3 Performance Issues" title="Direct link to 10.3 Performance Issues">â€‹</a></h3>
<p><strong>Slow Query Performance</strong>:</p>
<ul>
<li>Check MongoDB indexes are properly created</li>
<li>Monitor query execution plans</li>
<li>Optimize search parameters and limits</li>
<li>Consider database scaling options</li>
</ul>
<p><strong>High Memory Usage</strong>:</p>
<ul>
<li>Monitor container resource usage</li>
<li>Implement result pagination</li>
<li>Optimize embedding vector dimensions</li>
<li>Check for memory leaks in long-running processes</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="104-error-messages-and-solutions">10.4 Error Messages and Solutions<a href="#104-error-messages-and-solutions" class="hash-link" aria-label="Direct link to 10.4 Error Messages and Solutions" title="Direct link to 10.4 Error Messages and Solutions">â€‹</a></h3>
<table><thead><tr><th>Error</th><th>Cause</th><th>Solution</th></tr></thead><tbody><tr><td><code>ConnectionFailure</code></td><td>MongoDB connection issues</td><td>Check connection string, network, credentials</td></tr><tr><td><code>ToolError</code></td><td>Invalid tool parameters</td><td>Validate input parameters against API reference</td></tr><tr><td><code>HTTPStatusError</code></td><td>Service communication failure</td><td>Check service health, restart if needed</td></tr><tr><td><code>ClientError</code></td><td>AWS Bedrock issues</td><td>Verify AWS credentials and region settings</td></tr><tr><td><code>TimeoutError</code></td><td>Service response timeout</td><td>Increase timeout values, check service performance</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="11-development-guide">11. Development Guide<a href="#11-development-guide" class="hash-link" aria-label="Direct link to 11. Development Guide" title="Direct link to 11. Development Guide">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="111-codebase-organization">11.1 Codebase Organization<a href="#111-codebase-organization" class="hash-link" aria-label="Direct link to 11.1 Codebase Organization" title="Direct link to 11.1 Codebase Organization">â€‹</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">memory-mcp/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ src/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ server.py              # Main MCP server entry point</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â””â”€â”€ core/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚       â”œâ”€â”€ config.py          # Configuration management</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚       â””â”€â”€ logger.py          # Logging utilities</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ tools/                     # MCP tool implementations</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ search_tools.py        # Search-related tools</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ memory_tools.py        # Memory management tools</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â””â”€â”€ cache_tools.py         # Caching tools</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ services/                  # External service integrations</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ mongodb_service.py     # MongoDB operations</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ bedrock_service.py     # AWS Bedrock integration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â””â”€â”€ external/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚       â””â”€â”€ tavily_service.py  # Tavily web search</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ utils/                     # Utility functions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ validators.py          # Input validation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â””â”€â”€ serializers.py         # Data serialization</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ tests/                     # Test suite</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â””â”€â”€ test_memory_mcp.py     # Comprehensive tests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ client/                    # Client examples</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â””â”€â”€ memory-mcp-client.py   # Test client</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â””â”€â”€ docker-compose.yml         # Service orchestration</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="112-development-environment-setup">11.2 Development Environment Setup<a href="#112-development-environment-setup" class="hash-link" aria-label="Direct link to 11.2 Development Environment Setup" title="Direct link to 11.2 Development Environment Setup">â€‹</a></h3>
<p><strong>Prerequisites</strong>:</p>
<ul>
<li>Python 3.12+</li>
<li>uv package manager</li>
<li>Docker for integration testing</li>
</ul>
<p><strong>Setup Steps</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Clone repository</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clone &lt;repository-url&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd memory-mcp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Install uv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -LsSf https://astral.sh/uv/install.sh | sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Install dependencies</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">uv sync</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Set up pre-commit hooks (optional)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pre-commit install</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Run development server</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">uv run src/server.py</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="113-testing-procedures">11.3 Testing Procedures<a href="#113-testing-procedures" class="hash-link" aria-label="Direct link to 11.3 Testing Procedures" title="Direct link to 11.3 Testing Procedures">â€‹</a></h3>
<p><strong>Comprehensive Test Suite</strong>:
The project includes a comprehensive test suite (<code>tests/test_memory_mcp.py</code>) that covers:</p>
<ul>
<li>Tool functionality testing</li>
<li>Error handling validation</li>
<li>Performance and concurrency testing</li>
<li>Integration testing with external services</li>
</ul>
<p><strong>Running Tests</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Run full test suite</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pytest tests/ -v</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Run specific test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pytest tests/test_memory_mcp.py::test_hybrid_search -v</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Run with coverage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pytest tests/ --cov=src --cov-report=html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Run performance tests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pytest tests/ -m performance</span><br></span></code></pre></div></div>
<p><strong>Test Results</strong>:
The test suite automatically generates detailed reports:</p>
<ul>
<li>JSON results file: <code>test_results/mcp_test_results_TIMESTAMP.json</code></li>
<li>Summary report: <code>test_results/mcp_test_summary_TIMESTAMP.txt</code></li>
</ul>
<p><strong>Example Test Execution</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Start services for testing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker-compose up -d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Wait for services to be ready</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sleep 30</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Run tests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python tests/test_memory_mcp.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Or use pytest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pytest tests/ -v -s</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="114-adding-new-tools">11.4 Adding New Tools<a href="#114-adding-new-tools" class="hash-link" aria-label="Direct link to 11.4 Adding New Tools" title="Direct link to 11.4 Adding New Tools">â€‹</a></h3>
<p><strong>Tool Registration Process</strong>:</p>
<ol>
<li><strong>Create Tool Function</strong>: Implement the tool in appropriate module (e.g., <code>tools/new_tools.py</code>)</li>
</ol>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">register_new_tools</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">mcp</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> FastMCP</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token decorator annotation punctuation" style="color:#393A34">@mcp</span><span class="token decorator annotation punctuation" style="color:#393A34">.</span><span class="token decorator annotation punctuation" style="color:#393A34">tool</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;new_tool&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> description</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Tool description&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">new_tool</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">param1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> param2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> Dict</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Any</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Implementation</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;result&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;success&quot;</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<ol start="2">
<li><strong>Register in Server</strong>: Add registration to <code>src/server.py</code></li>
</ol>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> tools</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">new_tools </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> register_new_tools</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">register_new_tools</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">mcp</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<ol start="3">
<li><strong>Add Tests</strong>: Create test cases in <code>tests/test_memory_mcp.py</code></li>
</ol>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token decorator annotation punctuation" style="color:#393A34">@pytest</span><span class="token decorator annotation punctuation" style="color:#393A34">.</span><span class="token decorator annotation punctuation" style="color:#393A34">mark</span><span class="token decorator annotation punctuation" style="color:#393A34">.</span><span class="token decorator annotation punctuation" style="color:#393A34">asyncio</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">test_new_tool</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">mcp_client</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> test_config</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> mcp_client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">call_tool</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;new_tool&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;param1&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;test_value&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;param2&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">42</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Assertions</span><br></span></code></pre></div></div>
<ol start="4">
<li><strong>Update Documentation</strong>: Add tool documentation to API Reference section</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="115-code-style-and-guidelines">11.5 Code Style and Guidelines<a href="#115-code-style-and-guidelines" class="hash-link" aria-label="Direct link to 11.5 Code Style and Guidelines" title="Direct link to 11.5 Code Style and Guidelines">â€‹</a></h3>
<p><strong>Code Formatting</strong>:</p>
<ul>
<li>Use Black for code formatting: <code>black src/ tools/ services/</code></li>
<li>Follow PEP 8 style guidelines</li>
<li>Use type hints for all function parameters and return values</li>
</ul>
<p><strong>Error Handling</strong>:</p>
<ul>
<li>Use try-catch blocks for external service calls</li>
<li>Log errors with appropriate context</li>
<li>Return structured error responses</li>
</ul>
<p><strong>Async Programming</strong>:</p>
<ul>
<li>Use async/await for I/O operations</li>
<li>Avoid blocking operations in async functions</li>
<li>Use asyncio.gather() for concurrent operations</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="12-maintenance--operations">12. Maintenance &amp; Operations<a href="#12-maintenance--operations" class="hash-link" aria-label="Direct link to 12. Maintenance &amp; Operations" title="Direct link to 12. Maintenance &amp; Operations">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="121-scheduled-maintenance-tasks">12.1 Scheduled Maintenance Tasks<a href="#121-scheduled-maintenance-tasks" class="hash-link" aria-label="Direct link to 12.1 Scheduled Maintenance Tasks" title="Direct link to 12.1 Scheduled Maintenance Tasks">â€‹</a></h3>
<p><strong>Daily Tasks</strong>:</p>
<ul>
<li>Monitor service health and logs</li>
<li>Check Error rates and performance metrics</li>
<li>Verify backup completion status</li>
</ul>
<p><strong>Weekly Tasks</strong>:</p>
<ul>
<li>Review and rotate log files</li>
<li>Update dependencies with security patches</li>
<li>Performance optimization review</li>
</ul>
<p><strong>Monthly Tasks</strong>:</p>
<ul>
<li>Full system backup verification</li>
<li>Security audit and vulnerability scanning</li>
<li>Capacity planning and scaling decisions</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="122-backup-procedures">12.2 Backup Procedures<a href="#122-backup-procedures" class="hash-link" aria-label="Direct link to 12.2 Backup Procedures" title="Direct link to 12.2 Backup Procedures">â€‹</a></h3>
<p><strong>MongoDB Backup</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Create database backup</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mongodump --uri=&quot;mongodb+srv://...&quot; --out=backup_$(date +%Y%m%d)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Restore from backup</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mongorestore --uri=&quot;mongodb+srv://...&quot; backup_YYYYMMDD/</span><br></span></code></pre></div></div>
<p><strong>Configuration Backup</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Backup environment configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tar -czf config_backup_$(date +%Y%m%d).tar.gz environment/ .env docker-compose.yml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Backup application code</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git archive --format=tar.gz HEAD &gt; app_backup_$(date +%Y%m%d).tar.gz</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="123-updates-and-patches">12.3 Updates and Patches<a href="#123-updates-and-patches" class="hash-link" aria-label="Direct link to 12.3 Updates and Patches" title="Direct link to 12.3 Updates and Patches">â€‹</a></h3>
<p><strong>Dependency Updates</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Check for updates</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">uv sync --upgrade</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Update specific package</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">uv add &quot;package@latest&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Security updates</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">uv audit</span><br></span></code></pre></div></div>
<p><strong>Container Updates</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Pull latest base images</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker-compose pull</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Rebuild with updates</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker-compose build --no-cache</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Rolling update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker-compose up -d --no-deps memory-mcp</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="124-performance-optimization">12.4 Performance Optimization<a href="#124-performance-optimization" class="hash-link" aria-label="Direct link to 12.4 Performance Optimization" title="Direct link to 12.4 Performance Optimization">â€‹</a></h3>
<p><strong>Database Optimization</strong>:</p>
<ul>
<li>Monitor index usage and performance</li>
<li>Optimize aggregation pipelines</li>
<li>Implement connection pooling</li>
<li>Regular database maintenance tasks</li>
</ul>
<p><strong>Application Optimization</strong>:</p>
<ul>
<li>Profile memory usage and optimize</li>
<li>Cache frequently accessed data</li>
<li>Implement request rate limiting</li>
<li>Monitor and tune timeout values</li>
</ul>
<p><strong>Infrastructure Scaling</strong>:</p>
<ul>
<li>Horizontal scaling through container replication</li>
<li>Load balancing for high availability</li>
<li>Resource monitoring and auto-scaling</li>
<li>Database sharding for large datasets</li>
</ul></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/maap-framework/docs/framework/agentic/components/data-loader"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Data Loader</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/maap-framework/docs/category/demos"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Demos</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#key-features" class="table-of-contents__link toc-highlight">Key Features</a></li><li><a href="#target-audience" class="table-of-contents__link toc-highlight">Target Audience</a></li><li><a href="#2-system-architecture" class="table-of-contents__link toc-highlight">2. System Architecture</a></li><li><a href="#3-components" class="table-of-contents__link toc-highlight">3. Components</a><ul><li><a href="#31-memory-mcp-server-main-component" class="table-of-contents__link toc-highlight">3.1 Memory-MCP Server (Main Component)</a></li><li><a href="#32-ai-memory-service" class="table-of-contents__link toc-highlight">3.2 AI Memory Service</a></li><li><a href="#33-semantic-cache-service" class="table-of-contents__link toc-highlight">3.3 Semantic Cache Service</a></li><li><a href="#34-event-logger-service" class="table-of-contents__link toc-highlight">3.4 Event Logger Service</a></li><li><a href="#35-mongodb-service-integration" class="table-of-contents__link toc-highlight">3.5 MongoDB Service Integration</a></li><li><a href="#36-aws-bedrock-integration" class="table-of-contents__link toc-highlight">3.6 AWS Bedrock Integration</a></li><li><a href="#37-external-services" class="table-of-contents__link toc-highlight">3.7 External Services</a></li></ul></li><li><a href="#4-installation--deployment" class="table-of-contents__link toc-highlight">4. Installation &amp; Deployment</a><ul><li><a href="#41-prerequisites" class="table-of-contents__link toc-highlight">4.1 Prerequisites</a></li><li><a href="#42-environment-setup" class="table-of-contents__link toc-highlight">4.2 Environment Setup</a></li><li><a href="#43-docker-deployment" class="table-of-contents__link toc-highlight">4.3 Docker Deployment</a></li><li><a href="#44-local-development-setup" class="table-of-contents__link toc-highlight">4.4 Local Development Setup</a></li></ul></li><li><a href="#5-configuration" class="table-of-contents__link toc-highlight">5. Configuration</a><ul><li><a href="#51-environment-variables" class="table-of-contents__link toc-highlight">5.1 Environment Variables</a></li><li><a href="#52-mongodb-configuration" class="table-of-contents__link toc-highlight">5.2 MongoDB Configuration</a></li><li><a href="#53-docker-compose-configuration" class="table-of-contents__link toc-highlight">5.3 Docker Compose Configuration</a></li></ul></li><li><a href="#6-usage" class="table-of-contents__link toc-highlight">6. Usage</a><ul><li><a href="#61-server-startup" class="table-of-contents__link toc-highlight">6.1 Server Startup</a></li><li><a href="#62-client-connection" class="table-of-contents__link toc-highlight">6.2 Client Connection</a></li><li><a href="#63-common-usage-patterns" class="table-of-contents__link toc-highlight">6.3 Common Usage Patterns</a></li></ul></li><li><a href="#7-api-reference" class="table-of-contents__link toc-highlight">7. API Reference</a><ul><li><a href="#71-memory-tools" class="table-of-contents__link toc-highlight">7.1 Memory Tools</a></li><li><a href="#72-cache-tools" class="table-of-contents__link toc-highlight">7.2 Cache Tools</a></li><li><a href="#73-search-tools" class="table-of-contents__link toc-highlight">7.3 Search Tools</a></li></ul></li><li><a href="#8-security-considerations" class="table-of-contents__link toc-highlight">8. Security Considerations</a><ul><li><a href="#81-authentication-and-authorization" class="table-of-contents__link toc-highlight">8.1 Authentication and Authorization</a></li><li><a href="#82-data-encryption" class="table-of-contents__link toc-highlight">8.2 Data Encryption</a></li><li><a href="#83-input-validation" class="table-of-contents__link toc-highlight">8.3 Input Validation</a></li><li><a href="#84-known-vulnerabilities-and-mitigations" class="table-of-contents__link toc-highlight">8.4 Known Vulnerabilities and Mitigations</a></li></ul></li><li><a href="#9-monitoring--logging" class="table-of-contents__link toc-highlight">9. Monitoring &amp; Logging</a><ul><li><a href="#91-key-metrics" class="table-of-contents__link toc-highlight">9.1 Key Metrics</a></li><li><a href="#92-event-logger-service" class="table-of-contents__link toc-highlight">9.2 Event Logger Service</a></li><li><a href="#93-log-management" class="table-of-contents__link toc-highlight">9.3 Log Management</a></li></ul></li><li><a href="#10-troubleshooting" class="table-of-contents__link toc-highlight">10. Troubleshooting</a><ul><li><a href="#101-common-issues" class="table-of-contents__link toc-highlight">10.1 Common Issues</a></li><li><a href="#102-debugging-steps" class="table-of-contents__link toc-highlight">10.2 Debugging Steps</a></li><li><a href="#103-performance-issues" class="table-of-contents__link toc-highlight">10.3 Performance Issues</a></li><li><a href="#104-error-messages-and-solutions" class="table-of-contents__link toc-highlight">10.4 Error Messages and Solutions</a></li></ul></li><li><a href="#11-development-guide" class="table-of-contents__link toc-highlight">11. Development Guide</a><ul><li><a href="#111-codebase-organization" class="table-of-contents__link toc-highlight">11.1 Codebase Organization</a></li><li><a href="#112-development-environment-setup" class="table-of-contents__link toc-highlight">11.2 Development Environment Setup</a></li><li><a href="#113-testing-procedures" class="table-of-contents__link toc-highlight">11.3 Testing Procedures</a></li><li><a href="#114-adding-new-tools" class="table-of-contents__link toc-highlight">11.4 Adding New Tools</a></li><li><a href="#115-code-style-and-guidelines" class="table-of-contents__link toc-highlight">11.5 Code Style and Guidelines</a></li></ul></li><li><a href="#12-maintenance--operations" class="table-of-contents__link toc-highlight">12. Maintenance &amp; Operations</a><ul><li><a href="#121-scheduled-maintenance-tasks" class="table-of-contents__link toc-highlight">12.1 Scheduled Maintenance Tasks</a></li><li><a href="#122-backup-procedures" class="table-of-contents__link toc-highlight">12.2 Backup Procedures</a></li><li><a href="#123-updates-and-patches" class="table-of-contents__link toc-highlight">12.3 Updates and Patches</a></li><li><a href="#124-performance-optimization" class="table-of-contents__link toc-highlight">12.4 Performance Optimization</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Â© 2025 MongoDB, Inc.</div></div></div></footer></div>
</body>
</html>