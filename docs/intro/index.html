<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-intro" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">MAAP Framework | MAAP</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://maap-framework.github.io/maap-framework/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://maap-framework.github.io/maap-framework/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://maap-framework.github.io/maap-framework/docs/intro"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="MAAP Framework | MAAP"><meta data-rh="true" name="description" content="ReadMe Card"><meta data-rh="true" property="og:description" content="ReadMe Card"><link data-rh="true" rel="icon" href="/maap-framework/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://maap-framework.github.io/maap-framework/docs/intro"><link data-rh="true" rel="alternate" href="https://maap-framework.github.io/maap-framework/docs/intro" hreflang="en"><link data-rh="true" rel="alternate" href="https://maap-framework.github.io/maap-framework/docs/intro" hreflang="x-default"><link rel="stylesheet" href="/maap-framework/assets/css/styles.672a8b88.css">
<script src="/maap-framework/assets/js/runtime~main.7a2fd480.js" defer="defer"></script>
<script src="/maap-framework/assets/js/main.83128e99.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/maap-framework/"><div class="navbar__logo"><img src="/maap-framework/img/logo.svg" alt="MAAP Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/maap-framework/img/logo.svg" alt="MAAP Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">MAAP</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/maap-framework/docs/intro">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/mongodb-partners/maap-framework/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/maap-framework/docs/intro">MAAP Framework</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/maap-framework/docs/category/partners">Partners</a><button aria-label="Expand sidebar category &#x27;Partners&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/maap-framework/docs/category/app-modules">App Modules</a><button aria-label="Expand sidebar category &#x27;App Modules&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/maap-framework/docs/category/demo">Demo</a><button aria-label="Expand sidebar category &#x27;Demo&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/maap-framework/docs/category/quick-starts">Quick Starts</a><button aria-label="Expand sidebar category &#x27;Quick Starts&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/maap-framework/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">MAAP Framework</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>MAAP Framework</h1>
<p><a href="https://github.com/mongodb-partners/maap-framework" target="_blank" rel="noopener noreferrer"><img decoding="async" loading="lazy" src="https://github-readme-stats.vercel.app/api/pin/?username=mongodb-partners&amp;repo=maap-framework" alt="ReadMe Card" class="img_ev3q"></a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction" href="/maap-framework/docs/intro#introduction">​</a></h3>
<p>The <a href="https://www.mongodb.com/services/consulting/ai-applications-program" target="_blank" rel="noopener noreferrer">MongoDB AI Applications Program (MAAP)</a> framework is a set of libraries that you can use to build your RAG Application
using MongoDB and <a href="https://www.mongodb.com/docs/atlas/atlas-vector-search/vector-search-overview/" target="_blank" rel="noopener noreferrer">Atlas Vector Search</a> and associated MAAP partners</p>
<p>The repo offers flexibility to its users to set up the RAG application by simply configuring a YAML file(details see below). The repo allows users to choose from various options through the partners&#x27; program. The following modules of RAG are made configurable</p>
<ol>
<li>Data loaders</li>
<li>Embedding Models</li>
<li>Chat LLM Models</li>
<li>Post query Re-ranker</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="reference-architecture-diagram">Reference Architecture Diagram<a class="hash-link" aria-label="Direct link to Reference Architecture Diagram" title="Direct link to Reference Architecture Diagram" href="/maap-framework/docs/intro#reference-architecture-diagram">​</a></h3>
<p>Below given is the reference architecture of the framework with various components.</p>
<p><img decoding="async" loading="lazy" alt="alt text" src="/maap-framework/assets/images/MAAP_Arch-c623c684d8bcdee8f6fcaa112399aa16.png" width="2502" height="1418" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="overview-of-advanced-rag-approaches">Overview of Advanced RAG Approaches<a class="hash-link" aria-label="Direct link to Overview of Advanced RAG Approaches" title="Direct link to Overview of Advanced RAG Approaches" href="/maap-framework/docs/intro#overview-of-advanced-rag-approaches">​</a></h4>
<ul>
<li>
<p><strong>Data Loading</strong></p>
<p>Applications based on Large Language Models (LLMs) often involve extracting data from databases or files, such as PDFs, and converting it into a format usable by LLMs. The pivotal component here is the data source, containing private knowledge or content obtained.</p>
</li>
<li>
<p><strong>Data Indexing and Embedding Models: Chunking &amp; Vectorization</strong></p>
<p>Initially, we construct a vector index to represent the contents of our text documents. This involves breaking down the documents into smaller chunks and converting them into numerical vectors. The vectorized content forms the basis for subsequent retrieval and generation steps.</p>
</li>
<li>
<p><strong>Post Retrieval: Retrieval, Re-ranking &amp; Filtering</strong></p>
<p>After retrieving relevant documents, we refine the context further through re-ranking and filtering:</p>
<ul>
<li><strong>Re-ranking</strong>: Prioritizing documents based on relevance.</li>
<li><strong>Filtering</strong>: Removing less relevant or noisy documents.</li>
</ul>
</li>
<li>
<p><strong>Pre Query Retrieval: Query Transformations</strong></p>
<p>Advanced RAG models explore various transformations of user queries to enhance retrieval accuracy. Techniques include query expansion and other modifications.</p>
</li>
<li>
<p><strong>Chat Engine: LLM</strong></p>
<p>The chat engine combines retrieved context with the user’s query to create a prompt for the language model. This prompt guides the language model in generating contextually relevant responses.</p>
</li>
<li>
<p><strong>Chat Engine: RAG Agents</strong></p>
<p>RAG agents manage the entire RAG process, coordinating retrieval, generation, and other components. They ensure seamless interaction between the search index, language model, and other modules.</p>
</li>
<li>
<p><strong>Prompting: Response Synthesizer</strong></p>
<p>The response synthesizer generates the actual answer based on the combined context and user query. Attention and prompt engineering mechanisms may be employed to focus on relevant parts of retrieved documents during generation.</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="environment">Environment<a class="hash-link" aria-label="Direct link to Environment" title="Direct link to Environment" href="/maap-framework/docs/intro#environment">​</a></h2>
<p>The application is tested with below configurations.</p>
<ul>
<li>Node Version :        <strong>v20.0+</strong></li>
<li>MongoDB Version (Atlas) :     <strong>v7.0 (M10 Cluster Tier)</strong></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="document-preface">Document Preface<a class="hash-link" aria-label="Direct link to Document Preface" title="Direct link to Document Preface" href="/maap-framework/docs/intro#document-preface">​</a></h2>
<p>The MongoDB MAAP Framework documentation provides a comprehensive guide for setting up a Retrieval-Augmented Generation (RAG) application using MongoDB and Atlas Vector Search, along with integration options for various MAAP partners. This framework is designed to be highly configurable, allowing users to tailor their applications by simply modifying a YAML configuration file. The framework supports customization in four key areas: data loaders, embedding models, chat LLM (Large Language Models) models, and post-query re-rankers.</p>
<p>The setup process begins with cloning the project and installing dependencies. This involves navigating to the <a href="https://github.com/mongodb-partners/maap-framework/tree/main/builder/partnerproduct" target="_blank" rel="noopener noreferrer">builder/partnerproduct</a> directory, building the project locally, and then installing npm packages in the builder/partner product directory.</p>
<p>Configuration of the RAG application is crucial and involves specifying details for data ingestion, embedding models, vector storage, and LLM models in a YAML file. This includes settings for data source types (e.g., PDF files), paths, chunk sizes, embedding class names, MongoDB connection strings, database and collection names, and specifics about the vector search index and LLM models.</p>
<p>The documentation also highlights the process of instantiating embedding and LLM models based on the configuration. Different classes are instantiated based on the specified class_name in the configuration, catering to various services like VertexAI, Azure-OpenAI, Cohere, and others for embeddings, and a similar approach is taken for LLM models with classes like Fireworks, Anthropic, and Bedrock.</p>
<p>Data loaders play a significant role in how data is ingested into the system. The framework supports multiple types of data loaders (e.g., WebLoader, PdfLoader, SitemapLoader, DocxLoader, ConfluenceLoader), each tailored to handle specific data sources like web pages, PDF files, sitemaps, DOCX documents, and Confluence spaces. These loaders are configured with parameters such as source paths and chunking details, and then added to a data loaders array for processing.</p>
<p>After configuring the application, the user is guided through the process of ingesting data, running the server, and starting the UI client application. The UI client application runs locally, allowing users to interact with the application through a web interface.</p>
<p>This documentation provides a clear and detailed roadmap for developers to set up and customize their RAG applications using the MongoDB MAAP Framework, emphasizing flexibility and ease of use through configuration.</p>
<ul>
<li>Setup and Running Demo Video: <a href="https://www.youtube.com/watch?v=-r824BdVZt0" target="_blank" rel="noopener noreferrer">https://www.youtube.com/watch?v=-r824BdVZt0</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="steps-to-run-the-application">Steps to run the application<a class="hash-link" aria-label="Direct link to Steps to run the application" title="Direct link to Steps to run the application" href="/maap-framework/docs/intro#steps-to-run-the-application">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="installation">Installation<a class="hash-link" aria-label="Direct link to Installation" title="Direct link to Installation" href="/maap-framework/docs/intro#installation">​</a></h3>
<p>Clone the project to your machine, and install dependencies.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd maap-framework</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm install</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd builder/partnerproduct</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm install</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuration">Configuration<a class="hash-link" aria-label="Direct link to Configuration" title="Direct link to Configuration" href="/maap-framework/docs/intro#configuration">​</a></h3>
<p>Edit the <code>config.yaml</code> file to include the necessary details for data ingestion, embedding models, vector storage, and LLM models. The configuration file should include settings for data source types (e.g., PDF files), paths, chunk sizes, embedding class names, MongoDB connection strings, database and collection names, and specifics about the vector search index and LLM models.</p>
<p>For example, the following configuration settings might be included:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ingest:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - source: &#x27;pdf&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    source_path: &#x27;&lt;file_path&gt;&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    chunk_size: 2000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    chunk_overlap: 200</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">embedding:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    class_name: Nomic-v1.5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vector_store:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    connectionString: &#x27;&lt;you_mdb_connection_string&gt;&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dbName: &#x27;&lt;db_name&gt;&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    collectionName: &#x27;embedded_content&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    embeddingKey: &#x27;embedding&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textKey: &#x27;text&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    numCandidates: 150</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    minScore: 0.1 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    vectorSearchIndexName: &#x27;vector_index&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">llms:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    class_name: Fireworks</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    model_name: &#x27;accounts/fireworks/models/mixtral-8x22b-instruct&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    temperature: &#x27;&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    top_p: &#x27;&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    top_k: &#x27;&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">systemPromptPath: &#x27;&lt;your_system_prompt_file_path&gt;&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aggregate_operators:        # This is optional</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - connectionString: &quot;&lt;your_mdb_connection_string&gt;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      dbName: &#x27;&lt;db_name&gt;&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      collectionName: &#x27;&lt;collection_name&gt;&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      aggregatePipelineName: &#x27;&lt;pipeline_name&gt;&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      queryFilePath: &#x27;&lt;your_mql_query_file_path&gt;&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Also, please make a copy of the <code>builder/partnerproduct/example.env</code> file and rename it as <code>.env</code>. Place this file in the same folder where you are running your application. In the <code>.env</code> file, add the necessary API keys, URLs, connection strings, and any other secrets required for your application.</p>
<p>The following contents are added in the <code>.env</code> (Environment File):</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">COHERE_API_KEY=</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FIREWORKS_API_KEY=</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ANYSCALE_API_KEY=esecret_</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ANYSCALE_BASE_URL=https://api.endpoints.anyscale.com/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">BEDROCK_AWS_REGION=us-east-1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">BEDROCK_AWS_ACCESS_KEY_ID=</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">BEDROCK_AWS_SECRET_ACCESS_KEY=</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AZURE_OPENAI_API_KEY=</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AZURE_OPENAI_API_INSTANCE_NAME=</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AZURE_OPENAI_API_EMBEDDINGS_DEPLOYMENT_NAME=</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AZURE_OPENAI_API_VERSION=</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AZURE_OPENAI_API_DEPLOYMENT_NAME=</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Ensure you source the environment (.env file) by running</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">. ./.env</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>After you source the environment, echo any of the environment variables to ensure they are properly sourced. For example run <code>echo $COHERE_API_KEY</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="maap-partner-integrations">MAAP Partner Integrations<a class="hash-link" aria-label="Direct link to MAAP Partner Integrations" title="Direct link to MAAP Partner Integrations" href="/maap-framework/docs/intro#maap-partner-integrations">​</a></h3>
<p>Partner specific information can be found as below;
Go to <a href="https://mongodb-partners.github.io/maap-framework/docs/category/partners" target="_blank" rel="noopener noreferrer">this</a> page for partner specific documentations.</p>
<table><thead><tr><th>Sr #</th><th>MAAP Partner</th><th>Partner Type</th><th>Documentation</th></tr></thead><tbody><tr><td>1</td><td>AWS</td><td>Cloud provider</td><td><a href="https://mongodb-partners.github.io/maap-framework/docs/partners/amazon" target="_blank" rel="noopener noreferrer">Link</a></td></tr><tr><td>2</td><td>Azure</td><td>Cloud provider</td><td><a href="https://mongodb-partners.github.io/maap-framework/docs/partners/azure" target="_blank" rel="noopener noreferrer">Link</a></td></tr><tr><td>3</td><td>GCP</td><td>Cloud provider</td><td><a href="https://mongodb-partners.github.io/maap-framework/docs/partners/gcp" target="_blank" rel="noopener noreferrer">Link</a></td></tr><tr><td>4</td><td>Anthropic</td><td>AI tech</td><td><a href="https://mongodb-partners.github.io/maap-framework/docs/partners/anthropic" target="_blank" rel="noopener noreferrer">Link</a></td></tr><tr><td>5</td><td>Anyscale</td><td>AI tech</td><td><a href="https://mongodb-partners.github.io/maap-framework/docs/partners/anyscale" target="_blank" rel="noopener noreferrer">Link</a></td></tr><tr><td>6</td><td>Cohere</td><td>AI tech</td><td><a href="https://mongodb-partners.github.io/maap-framework/docs/partners/cohere" target="_blank" rel="noopener noreferrer">Link</a></td></tr><tr><td>7</td><td>Fireworks.AI</td><td>AI tech</td><td><a href="https://mongodb-partners.github.io/maap-framework/docs/partners/fireworksai" target="_blank" rel="noopener noreferrer">Link</a></td></tr><tr><td>8</td><td>Langchain</td><td>AI tech</td><td><a href="https://mongodb-partners.github.io/maap-framework/docs/partners/langchain" target="_blank" rel="noopener noreferrer">Link</a></td></tr><tr><td>9</td><td>Nomic</td><td>AI tech</td><td><a href="https://mongodb-partners.github.io/maap-framework/docs/partners/nomic" target="_blank" rel="noopener noreferrer">Link</a></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ingest-data">Ingest Data<a class="hash-link" aria-label="Direct link to Ingest Data" title="Direct link to Ingest Data" href="/maap-framework/docs/intro#ingest-data">​</a></h3>
<p>Once configured you can use the yaml file you just created say as in example <code>builder/partnerproduct/src/config.yaml</code>. Run the following from the same terminal as where you sourced <code>.env</code>. Normally this would be under
<code>builder/partnerproduct/src</code></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npm install</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm run ingest &lt;path to your config.yaml&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Go to <a href="https://mongodb-partners.github.io/maap-framework/docs/category/app-modules" target="_blank" rel="noopener noreferrer">this</a> page for loader specific documentations.</p>
<p><em>NOTE: After ingesting your first content, ensure the vector index has been created properly and with the correct vector dimension. You can verify the size of the  <code>embedding</code> array on the <code>embedded_content</code> collection, and then set the same size on the <code>numDimensions</code> field of the <code>vector_index</code>.</em></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="run-the-server">Run the server<a class="hash-link" aria-label="Direct link to Run the server" title="Direct link to Run the server" href="/maap-framework/docs/intro#run-the-server">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npm run start &lt;full path to your config.yaml&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="start-your-application-ui">Start your application UI<a class="hash-link" aria-label="Direct link to Start your application UI" title="Direct link to Start your application UI" href="/maap-framework/docs/intro#start-your-application-ui">​</a></h3>
<p>You can start your UI client application by running the following command in a separate terminal.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd builder/partnerproduct/ui</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm install</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm run start</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Your application will be running at <a href="http://localhost:3000" target="_blank" rel="noopener noreferrer">http://localhost:3000</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="identified-limitations">Identified Limitations<a class="hash-link" aria-label="Direct link to Identified Limitations" title="Direct link to Identified Limitations" href="/maap-framework/docs/intro#identified-limitations">​</a></h2>
<p>The following limitations have been recognized within the current framework. These will be addressed in upcoming updates and releases:</p>
<ul>
<li>Support for only <code>.pptx</code> format in <code>ppt</code> dataloader.</li>
<li>Local PDF, PPT, and DOCX files mentioned in the data sources response cannot be opened directly.</li>
<li><code>collectionName</code>, <code>embeddingKey</code>, <code>textKey</code> values in the <code>.config</code> file are fixed and cannot be changed.</li>
<li>There might be frequent timeouts in AnyScale LLM.</li>
<li>Confluence loader fails at authentication.</li>
</ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--next" href="/maap-framework/docs/category/partners"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Partners</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/maap-framework/docs/intro#introduction">Introduction</a></li><li><a class="table-of-contents__link toc-highlight" href="/maap-framework/docs/intro#reference-architecture-diagram">Reference Architecture Diagram</a></li><li><a class="table-of-contents__link toc-highlight" href="/maap-framework/docs/intro#environment">Environment</a></li><li><a class="table-of-contents__link toc-highlight" href="/maap-framework/docs/intro#document-preface">Document Preface</a></li><li><a class="table-of-contents__link toc-highlight" href="/maap-framework/docs/intro#steps-to-run-the-application">Steps to run the application</a><ul><li><a class="table-of-contents__link toc-highlight" href="/maap-framework/docs/intro#installation">Installation</a></li><li><a class="table-of-contents__link toc-highlight" href="/maap-framework/docs/intro#configuration">Configuration</a></li><li><a class="table-of-contents__link toc-highlight" href="/maap-framework/docs/intro#maap-partner-integrations">MAAP Partner Integrations</a></li><li><a class="table-of-contents__link toc-highlight" href="/maap-framework/docs/intro#ingest-data">Ingest Data</a></li><li><a class="table-of-contents__link toc-highlight" href="/maap-framework/docs/intro#run-the-server">Run the server</a></li><li><a class="table-of-contents__link toc-highlight" href="/maap-framework/docs/intro#start-your-application-ui">Start your application UI</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/maap-framework/docs/intro#identified-limitations">Identified Limitations</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">© 2025 MongoDB, Inc.</div></div></div></footer></div>
</body>
</html>